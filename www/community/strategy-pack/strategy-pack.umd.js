(function($r){typeof define=="function"&&define.amd?define($r):$r()})(function(){"use strict";var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lt={},oi;function qf(){if(oi)return lt;oi=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt._accessExpressionAsString=void 0;const j=q=>F(q)?`.${q}`:`[${JSON.stringify(q)}]`;lt._accessExpressionAsString=j;const F=q=>d(q)===!1&&/^[a-zA-Z_$][a-zA-Z_$0-9]*$/g.test(q),d=q=>N.has(q),N=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with"]);return lt}var Ve=qf(),dt={},ii;function kf(){if(ii)return dt;ii=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt._validateReport=void 0;const j=F=>{const d=N=>{if(F.length===0)return!0;const q=F[F.length-1].path;return N.length>q.length||q.substring(0,N.length)!==N};return(N,q)=>(N&&d(q.path)&&F.push(q),!1)};return dt._validateReport=j,dt}var ut=kf();const Hf="ll-strategy-dashboard-",Tn="ll-strategy-view-";var $e=(j=>(j.entity="entity",j.domain="domain",j.device="device",j.area="area",j.floor="floor",j.integration="integration",j.label="label",j.state="state",j.attribute="attribute",j.disabled_by="disabled_by",j.hidden_by="hidden_by",j.entity_category="entity_category",j))($e||{}),fr=(j=>(j.equal="equal",j.match="match",j.in="in",j.greater_than="greater_than",j.lower_than="lower_than",j.is_null="is_null",j.is_numeric="is_numeric",j))(fr||{}),yt=(j=>(j.ascending="ascending",j.descending="descending",j))(yt||{}),ai=(j=>(j.add="add",j.reset="reset",j))(ai||{});const gt=(j,F)=>d=>{var q,D;let N=!0;return j.filter&&(N=(((q=j.filter)==null?void 0:q.include)||new Array).reduce((W,U)=>{if(!W)return!1;try{const H=$t(U.type,d,U.config,F);return Wn(U.comparator||fr.equal,H,U.value)}catch(H){return console.error(H),!1}},N),N=(((D=j.filter)==null?void 0:D.exclude)||[]).reduce((W,U)=>{if(!W)return!1;try{const H=$t(U.type,d,U.config,F);return!Wn(U.comparator||fr.equal,H,U.value)}catch(H){return console.error(H),!1}},N)),N},Dt=(j,F)=>(d,N)=>{let q=0;return j.sort&&j.sort.find(D=>{const $=$t(D.type,d,D.config,F),J=$t(D.type,N,D.config,F);return q=Wn(D.comparator||yt.ascending,$,J),q}),q};function zf(j){return Object.values(fr).includes(j)}function Kf(j){return Object.values(yt).includes(j)}const Wn=(j,F,d)=>{const N=parseFloat(F),q=parseFloat(d),D=String(F),$=String(d),[J,W]=isNaN(N)||isNaN(q)?[D,$]:[N,q];if(Kf(j))switch(j){case yt.ascending:return J>W?1:J<W?-1:0;case yt.descending:return J<W?1:J>W?-1:0}if(zf(j))switch(j){case fr.equal:return F==d;case fr.match:return F?new RegExp($).test(D):!1;case fr.in:return Array.isArray(d)?d.includes(F):(console.warn("Cannot compare. Value must be array."),!1);case fr.greater_than:return isNaN(N)||isNaN(q)?(console.warn("Cannot compare. One or more values are not numeric"),!1):N>q;case fr.lower_than:return isNaN(N)||isNaN(q)?(console.warn("Cannot compare. One or more values are not numeric"),!1):N<q;case fr.is_null:return!!F;case fr.is_numeric:return!isNaN(N)}throw Error(`comparator '${j}' not implement`)},cr=j=>"floor_id"in j,$t=(j,F,d,N)=>{var q,D,$;switch(j){case $e.entity:if(cr(F))throw Error(`valueType '${j}' not supported for areas`);return F.entity_id;case $e.domain:if(cr(F))throw Error(`valueType '${j}' not supported for areas`);return F.entity_id.split(".")[0];case $e.area:const U=!cr(F)&&F.device_id?(q=N.devices[F.device_id])==null?void 0:q.area_id:void 0;return F.area_id||U||void 0;case $e.floor:if(!cr(F))throw Error(`valueType '${j}' not supported for entities`);return F.floor_id||void 0;case $e.device:if(cr(F))throw Error(`valueType '${j}' not supported for areas`);return F.device_id||void 0;case $e.integration:if(cr(F))throw Error(`valueType '${j}' not supported for areas`);return F.platform;case $e.label:const ie=F.labels;return(()=>{const w=I=>(I.key===void 0||typeof I.key=="string")&&typeof I.label=="string";return I=>typeof I=="object"&&I!==null&&w(I)})()(d)&&ie.find(w=>new RegExp(d.label).test(w))||void 0;case $e.state:if(cr(F))throw Error(`valueType '${j}' not supported for areas`);return(D=N.states[F.entity_id])==null?void 0:D.state;case $e.attribute:if(cr(F))throw Error(`valueType '${j}' not supported for areas`);const Q=($=N.states[F.entity_id])==null?void 0:$.attributes;if((()=>{const w=I=>(I.label===void 0||typeof I.label=="string")&&typeof I.key=="string";return I=>typeof I=="object"&&I!==null&&w(I)})()(d)){if(Q&&Q.hasOwnProperty(d.key))return Q[d.key];console.warn(`'${d.key}' does not exist on '${F.entity_id}'`);return}else{console.warn("value is not defined correctly");return}case $e.disabled_by:if(cr(F))throw Error(`valueType '${j}' not supported for areas`);return F.disabled_by||void 0;case $e.hidden_by:if(cr(F))throw Error(`valueType '${j}' not supported for areas`);return F.hidden_by||void 0;case $e.entity_category:if(cr(F))throw Error(`valueType '${j}' not supported for areas`);return F.entity_category||void 0}};var vt={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Zf=vt.exports,fi;function Yf(){return fi||(fi=1,function(j,F){(function(){var d,N="4.17.21",q=200,D="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",$="Expected a function",J="Invalid `variable` option passed into `_.template`",W="__lodash_hash_undefined__",U=500,H="__lodash_placeholder__",K=1,te=2,ie=4,re=1,Q=2,X=1,g=2,i=4,w=8,I=16,M=32,se=64,pe=128,Ee=256,be=512,ke=30,je="...",Be=800,He=16,Te=1,k=2,m=3,T=1/0,x=9007199254740991,f=17976931348623157e292,a=NaN,y=4294967295,u=y-1,o=y>>>1,_=[["ary",pe],["bind",X],["bindKey",g],["curry",w],["curryRight",I],["flip",be],["partial",M],["partialRight",se],["rearg",Ee]],p="[object Arguments]",L="[object Array]",le="[object AsyncFunction]",Ar="[object Boolean]",_t="[object Date]",tc="[object DOMException]",Ut="[object Error]",Nt="[object Function]",di="[object GeneratorFunction]",lr="[object Map]",mt="[object Number]",nc="[object Null]",br="[object Object]",ui="[object Promise]",oc="[object Proxy]",At="[object RegExp]",dr="[object Set]",bt="[object String]",Gt="[object Symbol]",ic="[object Undefined]",wt="[object WeakMap]",ac="[object WeakSet]",xt="[object ArrayBuffer]",Yr="[object DataView]",Mn="[object Float32Array]",Pn="[object Float64Array]",Dn="[object Int8Array]",$n="[object Int16Array]",Un="[object Int32Array]",Nn="[object Uint8Array]",Gn="[object Uint8ClampedArray]",qn="[object Uint16Array]",kn="[object Uint32Array]",fc=/\b__p \+= '';/g,cc=/\b(__p \+=) '' \+/g,sc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yi=/&(?:amp|lt|gt|quot|#39);/g,gi=/[&<>"']/g,lc=RegExp(yi.source),dc=RegExp(gi.source),uc=/<%-([\s\S]+?)%>/g,yc=/<%([\s\S]+?)%>/g,vi=/<%=([\s\S]+?)%>/g,gc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vc=/^\w*$/,hc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hn=/[\\^$.*+?()[\]{}|]/g,_c=RegExp(Hn.source),zn=/^\s+/,mc=/\s/,Ac=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bc=/\{\n\/\* \[wrapped with (.+)\] \*/,wc=/,? & /,xc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cc=/[()=,{}\[\]\/\s]/,pc=/\\(\\)?/g,Sc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hi=/\w*$/,Oc=/^[-+]0x[0-9a-f]+$/i,Rc=/^0b[01]+$/i,Ec=/^\[object .+?Constructor\]$/,Lc=/^0o[0-7]+$/i,Ic=/^(?:0|[1-9]\d*)$/,jc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=/($^)/,Tc=/['\n\r\u2028\u2029\\]/g,kt="\\ud800-\\udfff",Wc="\\u0300-\\u036f",Fc="\\ufe20-\\ufe2f",Bc="\\u20d0-\\u20ff",_i=Wc+Fc+Bc,mi="\\u2700-\\u27bf",Ai="a-z\\xdf-\\xf6\\xf8-\\xff",Mc="\\xac\\xb1\\xd7\\xf7",Pc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Dc="\\u2000-\\u206f",$c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bi="A-Z\\xc0-\\xd6\\xd8-\\xde",wi="\\ufe0e\\ufe0f",xi=Mc+Pc+Dc+$c,Kn="['’]",Uc="["+kt+"]",Ci="["+xi+"]",Ht="["+_i+"]",pi="\\d+",Nc="["+mi+"]",Si="["+Ai+"]",Oi="[^"+kt+xi+pi+mi+Ai+bi+"]",Zn="\\ud83c[\\udffb-\\udfff]",Gc="(?:"+Ht+"|"+Zn+")",Ri="[^"+kt+"]",Yn="(?:\\ud83c[\\udde6-\\uddff]){2}",Jn="[\\ud800-\\udbff][\\udc00-\\udfff]",Jr="["+bi+"]",Ei="\\u200d",Li="(?:"+Si+"|"+Oi+")",qc="(?:"+Jr+"|"+Oi+")",Ii="(?:"+Kn+"(?:d|ll|m|re|s|t|ve))?",ji="(?:"+Kn+"(?:D|LL|M|RE|S|T|VE))?",Ti=Gc+"?",Wi="["+wi+"]?",kc="(?:"+Ei+"(?:"+[Ri,Yn,Jn].join("|")+")"+Wi+Ti+")*",Hc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fi=Wi+Ti+kc,Kc="(?:"+[Nc,Yn,Jn].join("|")+")"+Fi,Zc="(?:"+[Ri+Ht+"?",Ht,Yn,Jn,Uc].join("|")+")",Yc=RegExp(Kn,"g"),Jc=RegExp(Ht,"g"),Xn=RegExp(Zn+"(?="+Zn+")|"+Zc+Fi,"g"),Xc=RegExp([Jr+"?"+Si+"+"+Ii+"(?="+[Ci,Jr,"$"].join("|")+")",qc+"+"+ji+"(?="+[Ci,Jr+Li,"$"].join("|")+")",Jr+"?"+Li+"+"+Ii,Jr+"+"+ji,zc,Hc,pi,Kc].join("|"),"g"),Vc=RegExp("["+Ei+kt+_i+wi+"]"),Qc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,es=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rs=-1,_e={};_e[Mn]=_e[Pn]=_e[Dn]=_e[$n]=_e[Un]=_e[Nn]=_e[Gn]=_e[qn]=_e[kn]=!0,_e[p]=_e[L]=_e[xt]=_e[Ar]=_e[Yr]=_e[_t]=_e[Ut]=_e[Nt]=_e[lr]=_e[mt]=_e[br]=_e[At]=_e[dr]=_e[bt]=_e[wt]=!1;var he={};he[p]=he[L]=he[xt]=he[Yr]=he[Ar]=he[_t]=he[Mn]=he[Pn]=he[Dn]=he[$n]=he[Un]=he[lr]=he[mt]=he[br]=he[At]=he[dr]=he[bt]=he[Gt]=he[Nn]=he[Gn]=he[qn]=he[kn]=!0,he[Ut]=he[Nt]=he[wt]=!1;var ts={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ns={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},os={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},is={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},as=parseFloat,fs=parseInt,Bi=typeof $r=="object"&&$r&&$r.Object===Object&&$r,cs=typeof self=="object"&&self&&self.Object===Object&&self,Le=Bi||cs||Function("return this")(),Vn=F&&!F.nodeType&&F,Ur=Vn&&!0&&j&&!j.nodeType&&j,Mi=Ur&&Ur.exports===Vn,Qn=Mi&&Bi.process,Qe=function(){try{var A=Ur&&Ur.require&&Ur.require("util").types;return A||Qn&&Qn.binding&&Qn.binding("util")}catch{}}(),Pi=Qe&&Qe.isArrayBuffer,Di=Qe&&Qe.isDate,$i=Qe&&Qe.isMap,Ui=Qe&&Qe.isRegExp,Ni=Qe&&Qe.isSet,Gi=Qe&&Qe.isTypedArray;function ze(A,S,C){switch(C.length){case 0:return A.call(S);case 1:return A.call(S,C[0]);case 2:return A.call(S,C[0],C[1]);case 3:return A.call(S,C[0],C[1],C[2])}return A.apply(S,C)}function ss(A,S,C,P){for(var V=-1,ue=A==null?0:A.length;++V<ue;){var Se=A[V];S(P,Se,C(Se),A)}return P}function er(A,S){for(var C=-1,P=A==null?0:A.length;++C<P&&S(A[C],C,A)!==!1;);return A}function ls(A,S){for(var C=A==null?0:A.length;C--&&S(A[C],C,A)!==!1;);return A}function qi(A,S){for(var C=-1,P=A==null?0:A.length;++C<P;)if(!S(A[C],C,A))return!1;return!0}function Ir(A,S){for(var C=-1,P=A==null?0:A.length,V=0,ue=[];++C<P;){var Se=A[C];S(Se,C,A)&&(ue[V++]=Se)}return ue}function zt(A,S){var C=A==null?0:A.length;return!!C&&Xr(A,S,0)>-1}function eo(A,S,C){for(var P=-1,V=A==null?0:A.length;++P<V;)if(C(S,A[P]))return!0;return!1}function me(A,S){for(var C=-1,P=A==null?0:A.length,V=Array(P);++C<P;)V[C]=S(A[C],C,A);return V}function jr(A,S){for(var C=-1,P=S.length,V=A.length;++C<P;)A[V+C]=S[C];return A}function ro(A,S,C,P){var V=-1,ue=A==null?0:A.length;for(P&&ue&&(C=A[++V]);++V<ue;)C=S(C,A[V],V,A);return C}function ds(A,S,C,P){var V=A==null?0:A.length;for(P&&V&&(C=A[--V]);V--;)C=S(C,A[V],V,A);return C}function to(A,S){for(var C=-1,P=A==null?0:A.length;++C<P;)if(S(A[C],C,A))return!0;return!1}var us=no("length");function ys(A){return A.split("")}function gs(A){return A.match(xc)||[]}function ki(A,S,C){var P;return C(A,function(V,ue,Se){if(S(V,ue,Se))return P=ue,!1}),P}function Kt(A,S,C,P){for(var V=A.length,ue=C+(P?1:-1);P?ue--:++ue<V;)if(S(A[ue],ue,A))return ue;return-1}function Xr(A,S,C){return S===S?Os(A,S,C):Kt(A,Hi,C)}function vs(A,S,C,P){for(var V=C-1,ue=A.length;++V<ue;)if(P(A[V],S))return V;return-1}function Hi(A){return A!==A}function zi(A,S){var C=A==null?0:A.length;return C?io(A,S)/C:a}function no(A){return function(S){return S==null?d:S[A]}}function oo(A){return function(S){return A==null?d:A[S]}}function Ki(A,S,C,P,V){return V(A,function(ue,Se,ve){C=P?(P=!1,ue):S(C,ue,Se,ve)}),C}function hs(A,S){var C=A.length;for(A.sort(S);C--;)A[C]=A[C].value;return A}function io(A,S){for(var C,P=-1,V=A.length;++P<V;){var ue=S(A[P]);ue!==d&&(C=C===d?ue:C+ue)}return C}function ao(A,S){for(var C=-1,P=Array(A);++C<A;)P[C]=S(C);return P}function _s(A,S){return me(S,function(C){return[C,A[C]]})}function Zi(A){return A&&A.slice(0,Vi(A)+1).replace(zn,"")}function Ke(A){return function(S){return A(S)}}function fo(A,S){return me(S,function(C){return A[C]})}function Ct(A,S){return A.has(S)}function Yi(A,S){for(var C=-1,P=A.length;++C<P&&Xr(S,A[C],0)>-1;);return C}function Ji(A,S){for(var C=A.length;C--&&Xr(S,A[C],0)>-1;);return C}function ms(A,S){for(var C=A.length,P=0;C--;)A[C]===S&&++P;return P}var As=oo(ts),bs=oo(ns);function ws(A){return"\\"+is[A]}function xs(A,S){return A==null?d:A[S]}function Vr(A){return Vc.test(A)}function Cs(A){return Qc.test(A)}function ps(A){for(var S,C=[];!(S=A.next()).done;)C.push(S.value);return C}function co(A){var S=-1,C=Array(A.size);return A.forEach(function(P,V){C[++S]=[V,P]}),C}function Xi(A,S){return function(C){return A(S(C))}}function Tr(A,S){for(var C=-1,P=A.length,V=0,ue=[];++C<P;){var Se=A[C];(Se===S||Se===H)&&(A[C]=H,ue[V++]=C)}return ue}function Zt(A){var S=-1,C=Array(A.size);return A.forEach(function(P){C[++S]=P}),C}function Ss(A){var S=-1,C=Array(A.size);return A.forEach(function(P){C[++S]=[P,P]}),C}function Os(A,S,C){for(var P=C-1,V=A.length;++P<V;)if(A[P]===S)return P;return-1}function Rs(A,S,C){for(var P=C+1;P--;)if(A[P]===S)return P;return P}function Qr(A){return Vr(A)?Ls(A):us(A)}function ur(A){return Vr(A)?Is(A):ys(A)}function Vi(A){for(var S=A.length;S--&&mc.test(A.charAt(S)););return S}var Es=oo(os);function Ls(A){for(var S=Xn.lastIndex=0;Xn.test(A);)++S;return S}function Is(A){return A.match(Xn)||[]}function js(A){return A.match(Xc)||[]}var Ts=function A(S){S=S==null?Le:et.defaults(Le.Object(),S,et.pick(Le,es));var C=S.Array,P=S.Date,V=S.Error,ue=S.Function,Se=S.Math,ve=S.Object,so=S.RegExp,Ws=S.String,rr=S.TypeError,Yt=C.prototype,Fs=ue.prototype,rt=ve.prototype,Jt=S["__core-js_shared__"],Xt=Fs.toString,ge=rt.hasOwnProperty,Bs=0,Qi=function(){var e=/[^.]+$/.exec(Jt&&Jt.keys&&Jt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Vt=rt.toString,Ms=Xt.call(ve),Ps=Le._,Ds=so("^"+Xt.call(ge).replace(Hn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=Mi?S.Buffer:d,Wr=S.Symbol,en=S.Uint8Array,ea=Qt?Qt.allocUnsafe:d,rn=Xi(ve.getPrototypeOf,ve),ra=ve.create,ta=rt.propertyIsEnumerable,tn=Yt.splice,na=Wr?Wr.isConcatSpreadable:d,pt=Wr?Wr.iterator:d,Nr=Wr?Wr.toStringTag:d,nn=function(){try{var e=zr(ve,"defineProperty");return e({},"",{}),e}catch{}}(),$s=S.clearTimeout!==Le.clearTimeout&&S.clearTimeout,Us=P&&P.now!==Le.Date.now&&P.now,Ns=S.setTimeout!==Le.setTimeout&&S.setTimeout,on=Se.ceil,an=Se.floor,lo=ve.getOwnPropertySymbols,Gs=Qt?Qt.isBuffer:d,oa=S.isFinite,qs=Yt.join,ks=Xi(ve.keys,ve),Oe=Se.max,We=Se.min,Hs=P.now,zs=S.parseInt,ia=Se.random,Ks=Yt.reverse,uo=zr(S,"DataView"),St=zr(S,"Map"),yo=zr(S,"Promise"),tt=zr(S,"Set"),Ot=zr(S,"WeakMap"),Rt=zr(ve,"create"),fn=Ot&&new Ot,nt={},Zs=Kr(uo),Ys=Kr(St),Js=Kr(yo),Xs=Kr(tt),Vs=Kr(Ot),cn=Wr?Wr.prototype:d,Et=cn?cn.valueOf:d,aa=cn?cn.toString:d;function s(e){if(we(e)&&!ee(e)&&!(e instanceof ce)){if(e instanceof tr)return e;if(ge.call(e,"__wrapped__"))return cf(e)}return new tr(e)}var ot=function(){function e(){}return function(r){if(!Ae(r))return{};if(ra)return ra(r);e.prototype=r;var t=new e;return e.prototype=d,t}}();function sn(){}function tr(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=d}s.templateSettings={escape:uc,evaluate:yc,interpolate:vi,variable:"",imports:{_:s}},s.prototype=sn.prototype,s.prototype.constructor=s,tr.prototype=ot(sn.prototype),tr.prototype.constructor=tr;function ce(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Qs(){var e=new ce(this.__wrapped__);return e.__actions__=Ue(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ue(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ue(this.__views__),e}function el(){if(this.__filtered__){var e=new ce(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function rl(){var e=this.__wrapped__.value(),r=this.__dir__,t=ee(e),n=r<0,c=t?e.length:0,l=yd(0,c,this.__views__),v=l.start,h=l.end,b=h-v,O=n?h:v-1,R=this.__iteratees__,E=R.length,B=0,G=We(b,this.__takeCount__);if(!t||!n&&c==b&&G==b)return Ia(e,this.__actions__);var Z=[];e:for(;b--&&B<G;){O+=r;for(var oe=-1,Y=e[O];++oe<E;){var fe=R[oe],de=fe.iteratee,Je=fe.type,De=de(Y);if(Je==k)Y=De;else if(!De){if(Je==Te)continue e;break e}}Z[B++]=Y}return Z}ce.prototype=ot(sn.prototype),ce.prototype.constructor=ce;function Gr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}function tl(){this.__data__=Rt?Rt(null):{},this.size=0}function nl(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function ol(e){var r=this.__data__;if(Rt){var t=r[e];return t===W?d:t}return ge.call(r,e)?r[e]:d}function il(e){var r=this.__data__;return Rt?r[e]!==d:ge.call(r,e)}function al(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Rt&&r===d?W:r,this}Gr.prototype.clear=tl,Gr.prototype.delete=nl,Gr.prototype.get=ol,Gr.prototype.has=il,Gr.prototype.set=al;function wr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}function fl(){this.__data__=[],this.size=0}function cl(e){var r=this.__data__,t=ln(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():tn.call(r,t,1),--this.size,!0}function sl(e){var r=this.__data__,t=ln(r,e);return t<0?d:r[t][1]}function ll(e){return ln(this.__data__,e)>-1}function dl(e,r){var t=this.__data__,n=ln(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}wr.prototype.clear=fl,wr.prototype.delete=cl,wr.prototype.get=sl,wr.prototype.has=ll,wr.prototype.set=dl;function xr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}function ul(){this.size=0,this.__data__={hash:new Gr,map:new(St||wr),string:new Gr}}function yl(e){var r=xn(this,e).delete(e);return this.size-=r?1:0,r}function gl(e){return xn(this,e).get(e)}function vl(e){return xn(this,e).has(e)}function hl(e,r){var t=xn(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}xr.prototype.clear=ul,xr.prototype.delete=yl,xr.prototype.get=gl,xr.prototype.has=vl,xr.prototype.set=hl;function qr(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new xr;++r<t;)this.add(e[r])}function _l(e){return this.__data__.set(e,W),this}function ml(e){return this.__data__.has(e)}qr.prototype.add=qr.prototype.push=_l,qr.prototype.has=ml;function yr(e){var r=this.__data__=new wr(e);this.size=r.size}function Al(){this.__data__=new wr,this.size=0}function bl(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function wl(e){return this.__data__.get(e)}function xl(e){return this.__data__.has(e)}function Cl(e,r){var t=this.__data__;if(t instanceof wr){var n=t.__data__;if(!St||n.length<q-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new xr(n)}return t.set(e,r),this.size=t.size,this}yr.prototype.clear=Al,yr.prototype.delete=bl,yr.prototype.get=wl,yr.prototype.has=xl,yr.prototype.set=Cl;function fa(e,r){var t=ee(e),n=!t&&Zr(e),c=!t&&!n&&Dr(e),l=!t&&!n&&!c&&ct(e),v=t||n||c||l,h=v?ao(e.length,Ws):[],b=h.length;for(var O in e)(r||ge.call(e,O))&&!(v&&(O=="length"||c&&(O=="offset"||O=="parent")||l&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Or(O,b)))&&h.push(O);return h}function ca(e){var r=e.length;return r?e[po(0,r-1)]:d}function pl(e,r){return Cn(Ue(e),kr(r,0,e.length))}function Sl(e){return Cn(Ue(e))}function go(e,r,t){(t!==d&&!gr(e[r],t)||t===d&&!(r in e))&&Cr(e,r,t)}function Lt(e,r,t){var n=e[r];(!(ge.call(e,r)&&gr(n,t))||t===d&&!(r in e))&&Cr(e,r,t)}function ln(e,r){for(var t=e.length;t--;)if(gr(e[t][0],r))return t;return-1}function Ol(e,r,t,n){return Fr(e,function(c,l,v){r(n,c,t(c),v)}),n}function sa(e,r){return e&&_r(r,Re(r),e)}function Rl(e,r){return e&&_r(r,Ge(r),e)}function Cr(e,r,t){r=="__proto__"&&nn?nn(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function vo(e,r){for(var t=-1,n=r.length,c=C(n),l=e==null;++t<n;)c[t]=l?d:Yo(e,r[t]);return c}function kr(e,r,t){return e===e&&(t!==d&&(e=e<=t?e:t),r!==d&&(e=e>=r?e:r)),e}function nr(e,r,t,n,c,l){var v,h=r&K,b=r&te,O=r&ie;if(t&&(v=c?t(e,n,c,l):t(e)),v!==d)return v;if(!Ae(e))return e;var R=ee(e);if(R){if(v=vd(e),!h)return Ue(e,v)}else{var E=Fe(e),B=E==Nt||E==di;if(Dr(e))return Wa(e,h);if(E==br||E==p||B&&!c){if(v=b||B?{}:Va(e),!h)return b?od(e,Rl(v,e)):nd(e,sa(v,e))}else{if(!he[E])return c?e:{};v=hd(e,E,h)}}l||(l=new yr);var G=l.get(e);if(G)return G;l.set(e,v),Ef(e)?e.forEach(function(Y){v.add(nr(Y,r,t,Y,e,l))}):Of(e)&&e.forEach(function(Y,fe){v.set(fe,nr(Y,r,t,fe,e,l))});var Z=O?b?Bo:Fo:b?Ge:Re,oe=R?d:Z(e);return er(oe||e,function(Y,fe){oe&&(fe=Y,Y=e[fe]),Lt(v,fe,nr(Y,r,t,fe,e,l))}),v}function El(e){var r=Re(e);return function(t){return la(t,e,r)}}function la(e,r,t){var n=t.length;if(e==null)return!n;for(e=ve(e);n--;){var c=t[n],l=r[c],v=e[c];if(v===d&&!(c in e)||!l(v))return!1}return!0}function da(e,r,t){if(typeof e!="function")throw new rr($);return Mt(function(){e.apply(d,t)},r)}function It(e,r,t,n){var c=-1,l=zt,v=!0,h=e.length,b=[],O=r.length;if(!h)return b;t&&(r=me(r,Ke(t))),n?(l=eo,v=!1):r.length>=q&&(l=Ct,v=!1,r=new qr(r));e:for(;++c<h;){var R=e[c],E=t==null?R:t(R);if(R=n||R!==0?R:0,v&&E===E){for(var B=O;B--;)if(r[B]===E)continue e;b.push(R)}else l(r,E,n)||b.push(R)}return b}var Fr=Da(hr),ua=Da(_o,!0);function Ll(e,r){var t=!0;return Fr(e,function(n,c,l){return t=!!r(n,c,l),t}),t}function dn(e,r,t){for(var n=-1,c=e.length;++n<c;){var l=e[n],v=r(l);if(v!=null&&(h===d?v===v&&!Ye(v):t(v,h)))var h=v,b=l}return b}function Il(e,r,t,n){var c=e.length;for(t=ne(t),t<0&&(t=-t>c?0:c+t),n=n===d||n>c?c:ne(n),n<0&&(n+=c),n=t>n?0:If(n);t<n;)e[t++]=r;return e}function ya(e,r){var t=[];return Fr(e,function(n,c,l){r(n,c,l)&&t.push(n)}),t}function Ie(e,r,t,n,c){var l=-1,v=e.length;for(t||(t=md),c||(c=[]);++l<v;){var h=e[l];r>0&&t(h)?r>1?Ie(h,r-1,t,n,c):jr(c,h):n||(c[c.length]=h)}return c}var ho=$a(),ga=$a(!0);function hr(e,r){return e&&ho(e,r,Re)}function _o(e,r){return e&&ga(e,r,Re)}function un(e,r){return Ir(r,function(t){return Rr(e[t])})}function Hr(e,r){r=Mr(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[mr(r[t++])];return t&&t==n?e:d}function va(e,r,t){var n=r(e);return ee(e)?n:jr(n,t(e))}function Me(e){return e==null?e===d?ic:nc:Nr&&Nr in ve(e)?ud(e):Sd(e)}function mo(e,r){return e>r}function jl(e,r){return e!=null&&ge.call(e,r)}function Tl(e,r){return e!=null&&r in ve(e)}function Wl(e,r,t){return e>=We(r,t)&&e<Oe(r,t)}function Ao(e,r,t){for(var n=t?eo:zt,c=e[0].length,l=e.length,v=l,h=C(l),b=1/0,O=[];v--;){var R=e[v];v&&r&&(R=me(R,Ke(r))),b=We(R.length,b),h[v]=!t&&(r||c>=120&&R.length>=120)?new qr(v&&R):d}R=e[0];var E=-1,B=h[0];e:for(;++E<c&&O.length<b;){var G=R[E],Z=r?r(G):G;if(G=t||G!==0?G:0,!(B?Ct(B,Z):n(O,Z,t))){for(v=l;--v;){var oe=h[v];if(!(oe?Ct(oe,Z):n(e[v],Z,t)))continue e}B&&B.push(Z),O.push(G)}}return O}function Fl(e,r,t,n){return hr(e,function(c,l,v){r(n,t(c),l,v)}),n}function jt(e,r,t){r=Mr(r,e),e=tf(e,r);var n=e==null?e:e[mr(ir(r))];return n==null?d:ze(n,e,t)}function ha(e){return we(e)&&Me(e)==p}function Bl(e){return we(e)&&Me(e)==xt}function Ml(e){return we(e)&&Me(e)==_t}function Tt(e,r,t,n,c){return e===r?!0:e==null||r==null||!we(e)&&!we(r)?e!==e&&r!==r:Pl(e,r,t,n,Tt,c)}function Pl(e,r,t,n,c,l){var v=ee(e),h=ee(r),b=v?L:Fe(e),O=h?L:Fe(r);b=b==p?br:b,O=O==p?br:O;var R=b==br,E=O==br,B=b==O;if(B&&Dr(e)){if(!Dr(r))return!1;v=!0,R=!1}if(B&&!R)return l||(l=new yr),v||ct(e)?Ya(e,r,t,n,c,l):ld(e,r,b,t,n,c,l);if(!(t&re)){var G=R&&ge.call(e,"__wrapped__"),Z=E&&ge.call(r,"__wrapped__");if(G||Z){var oe=G?e.value():e,Y=Z?r.value():r;return l||(l=new yr),c(oe,Y,t,n,l)}}return B?(l||(l=new yr),dd(e,r,t,n,c,l)):!1}function Dl(e){return we(e)&&Fe(e)==lr}function bo(e,r,t,n){var c=t.length,l=c,v=!n;if(e==null)return!l;for(e=ve(e);c--;){var h=t[c];if(v&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++c<l;){h=t[c];var b=h[0],O=e[b],R=h[1];if(v&&h[2]){if(O===d&&!(b in e))return!1}else{var E=new yr;if(n)var B=n(O,R,b,e,r,E);if(!(B===d?Tt(R,O,re|Q,n,E):B))return!1}}return!0}function _a(e){if(!Ae(e)||bd(e))return!1;var r=Rr(e)?Ds:Ec;return r.test(Kr(e))}function $l(e){return we(e)&&Me(e)==At}function Ul(e){return we(e)&&Fe(e)==dr}function Nl(e){return we(e)&&Ln(e.length)&&!!_e[Me(e)]}function ma(e){return typeof e=="function"?e:e==null?qe:typeof e=="object"?ee(e)?wa(e[0],e[1]):ba(e):Nf(e)}function wo(e){if(!Bt(e))return ks(e);var r=[];for(var t in ve(e))ge.call(e,t)&&t!="constructor"&&r.push(t);return r}function Gl(e){if(!Ae(e))return pd(e);var r=Bt(e),t=[];for(var n in e)n=="constructor"&&(r||!ge.call(e,n))||t.push(n);return t}function xo(e,r){return e<r}function Aa(e,r){var t=-1,n=Ne(e)?C(e.length):[];return Fr(e,function(c,l,v){n[++t]=r(c,l,v)}),n}function ba(e){var r=Po(e);return r.length==1&&r[0][2]?ef(r[0][0],r[0][1]):function(t){return t===e||bo(t,e,r)}}function wa(e,r){return $o(e)&&Qa(r)?ef(mr(e),r):function(t){var n=Yo(t,e);return n===d&&n===r?Jo(t,e):Tt(r,n,re|Q)}}function yn(e,r,t,n,c){e!==r&&ho(r,function(l,v){if(c||(c=new yr),Ae(l))ql(e,r,v,t,yn,n,c);else{var h=n?n(No(e,v),l,v+"",e,r,c):d;h===d&&(h=l),go(e,v,h)}},Ge)}function ql(e,r,t,n,c,l,v){var h=No(e,t),b=No(r,t),O=v.get(b);if(O){go(e,t,O);return}var R=l?l(h,b,t+"",e,r,v):d,E=R===d;if(E){var B=ee(b),G=!B&&Dr(b),Z=!B&&!G&&ct(b);R=b,B||G||Z?ee(h)?R=h:xe(h)?R=Ue(h):G?(E=!1,R=Wa(b,!0)):Z?(E=!1,R=Fa(b,!0)):R=[]:Pt(b)||Zr(b)?(R=h,Zr(h)?R=jf(h):(!Ae(h)||Rr(h))&&(R=Va(b))):E=!1}E&&(v.set(b,R),c(R,b,n,l,v),v.delete(b)),go(e,t,R)}function xa(e,r){var t=e.length;if(t)return r+=r<0?t:0,Or(r,t)?e[r]:d}function Ca(e,r,t){r.length?r=me(r,function(l){return ee(l)?function(v){return Hr(v,l.length===1?l[0]:l)}:l}):r=[qe];var n=-1;r=me(r,Ke(z()));var c=Aa(e,function(l,v,h){var b=me(r,function(O){return O(l)});return{criteria:b,index:++n,value:l}});return hs(c,function(l,v){return td(l,v,t)})}function kl(e,r){return pa(e,r,function(t,n){return Jo(e,n)})}function pa(e,r,t){for(var n=-1,c=r.length,l={};++n<c;){var v=r[n],h=Hr(e,v);t(h,v)&&Wt(l,Mr(v,e),h)}return l}function Hl(e){return function(r){return Hr(r,e)}}function Co(e,r,t,n){var c=n?vs:Xr,l=-1,v=r.length,h=e;for(e===r&&(r=Ue(r)),t&&(h=me(e,Ke(t)));++l<v;)for(var b=0,O=r[l],R=t?t(O):O;(b=c(h,R,b,n))>-1;)h!==e&&tn.call(h,b,1),tn.call(e,b,1);return e}function Sa(e,r){for(var t=e?r.length:0,n=t-1;t--;){var c=r[t];if(t==n||c!==l){var l=c;Or(c)?tn.call(e,c,1):Ro(e,c)}}return e}function po(e,r){return e+an(ia()*(r-e+1))}function zl(e,r,t,n){for(var c=-1,l=Oe(on((r-e)/(t||1)),0),v=C(l);l--;)v[n?l:++c]=e,e+=t;return v}function So(e,r){var t="";if(!e||r<1||r>x)return t;do r%2&&(t+=e),r=an(r/2),r&&(e+=e);while(r);return t}function ae(e,r){return Go(rf(e,r,qe),e+"")}function Kl(e){return ca(st(e))}function Zl(e,r){var t=st(e);return Cn(t,kr(r,0,t.length))}function Wt(e,r,t,n){if(!Ae(e))return e;r=Mr(r,e);for(var c=-1,l=r.length,v=l-1,h=e;h!=null&&++c<l;){var b=mr(r[c]),O=t;if(b==="__proto__"||b==="constructor"||b==="prototype")return e;if(c!=v){var R=h[b];O=n?n(R,b,h):d,O===d&&(O=Ae(R)?R:Or(r[c+1])?[]:{})}Lt(h,b,O),h=h[b]}return e}var Oa=fn?function(e,r){return fn.set(e,r),e}:qe,Yl=nn?function(e,r){return nn(e,"toString",{configurable:!0,enumerable:!1,value:Vo(r),writable:!0})}:qe;function Jl(e){return Cn(st(e))}function or(e,r,t){var n=-1,c=e.length;r<0&&(r=-r>c?0:c+r),t=t>c?c:t,t<0&&(t+=c),c=r>t?0:t-r>>>0,r>>>=0;for(var l=C(c);++n<c;)l[n]=e[n+r];return l}function Xl(e,r){var t;return Fr(e,function(n,c,l){return t=r(n,c,l),!t}),!!t}function gn(e,r,t){var n=0,c=e==null?n:e.length;if(typeof r=="number"&&r===r&&c<=o){for(;n<c;){var l=n+c>>>1,v=e[l];v!==null&&!Ye(v)&&(t?v<=r:v<r)?n=l+1:c=l}return c}return Oo(e,r,qe,t)}function Oo(e,r,t,n){var c=0,l=e==null?0:e.length;if(l===0)return 0;r=t(r);for(var v=r!==r,h=r===null,b=Ye(r),O=r===d;c<l;){var R=an((c+l)/2),E=t(e[R]),B=E!==d,G=E===null,Z=E===E,oe=Ye(E);if(v)var Y=n||Z;else O?Y=Z&&(n||B):h?Y=Z&&B&&(n||!G):b?Y=Z&&B&&!G&&(n||!oe):G||oe?Y=!1:Y=n?E<=r:E<r;Y?c=R+1:l=R}return We(l,u)}function Ra(e,r){for(var t=-1,n=e.length,c=0,l=[];++t<n;){var v=e[t],h=r?r(v):v;if(!t||!gr(h,b)){var b=h;l[c++]=v===0?0:v}}return l}function Ea(e){return typeof e=="number"?e:Ye(e)?a:+e}function Ze(e){if(typeof e=="string")return e;if(ee(e))return me(e,Ze)+"";if(Ye(e))return aa?aa.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function Br(e,r,t){var n=-1,c=zt,l=e.length,v=!0,h=[],b=h;if(t)v=!1,c=eo;else if(l>=q){var O=r?null:cd(e);if(O)return Zt(O);v=!1,c=Ct,b=new qr}else b=r?[]:h;e:for(;++n<l;){var R=e[n],E=r?r(R):R;if(R=t||R!==0?R:0,v&&E===E){for(var B=b.length;B--;)if(b[B]===E)continue e;r&&b.push(E),h.push(R)}else c(b,E,t)||(b!==h&&b.push(E),h.push(R))}return h}function Ro(e,r){return r=Mr(r,e),e=tf(e,r),e==null||delete e[mr(ir(r))]}function La(e,r,t,n){return Wt(e,r,t(Hr(e,r)),n)}function vn(e,r,t,n){for(var c=e.length,l=n?c:-1;(n?l--:++l<c)&&r(e[l],l,e););return t?or(e,n?0:l,n?l+1:c):or(e,n?l+1:0,n?c:l)}function Ia(e,r){var t=e;return t instanceof ce&&(t=t.value()),ro(r,function(n,c){return c.func.apply(c.thisArg,jr([n],c.args))},t)}function Eo(e,r,t){var n=e.length;if(n<2)return n?Br(e[0]):[];for(var c=-1,l=C(n);++c<n;)for(var v=e[c],h=-1;++h<n;)h!=c&&(l[c]=It(l[c]||v,e[h],r,t));return Br(Ie(l,1),r,t)}function ja(e,r,t){for(var n=-1,c=e.length,l=r.length,v={};++n<c;){var h=n<l?r[n]:d;t(v,e[n],h)}return v}function Lo(e){return xe(e)?e:[]}function Io(e){return typeof e=="function"?e:qe}function Mr(e,r){return ee(e)?e:$o(e,r)?[e]:ff(ye(e))}var Vl=ae;function Pr(e,r,t){var n=e.length;return t=t===d?n:t,!r&&t>=n?e:or(e,r,t)}var Ta=$s||function(e){return Le.clearTimeout(e)};function Wa(e,r){if(r)return e.slice();var t=e.length,n=ea?ea(t):new e.constructor(t);return e.copy(n),n}function jo(e){var r=new e.constructor(e.byteLength);return new en(r).set(new en(e)),r}function Ql(e,r){var t=r?jo(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function ed(e){var r=new e.constructor(e.source,hi.exec(e));return r.lastIndex=e.lastIndex,r}function rd(e){return Et?ve(Et.call(e)):{}}function Fa(e,r){var t=r?jo(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function Ba(e,r){if(e!==r){var t=e!==d,n=e===null,c=e===e,l=Ye(e),v=r!==d,h=r===null,b=r===r,O=Ye(r);if(!h&&!O&&!l&&e>r||l&&v&&b&&!h&&!O||n&&v&&b||!t&&b||!c)return 1;if(!n&&!l&&!O&&e<r||O&&t&&c&&!n&&!l||h&&t&&c||!v&&c||!b)return-1}return 0}function td(e,r,t){for(var n=-1,c=e.criteria,l=r.criteria,v=c.length,h=t.length;++n<v;){var b=Ba(c[n],l[n]);if(b){if(n>=h)return b;var O=t[n];return b*(O=="desc"?-1:1)}}return e.index-r.index}function Ma(e,r,t,n){for(var c=-1,l=e.length,v=t.length,h=-1,b=r.length,O=Oe(l-v,0),R=C(b+O),E=!n;++h<b;)R[h]=r[h];for(;++c<v;)(E||c<l)&&(R[t[c]]=e[c]);for(;O--;)R[h++]=e[c++];return R}function Pa(e,r,t,n){for(var c=-1,l=e.length,v=-1,h=t.length,b=-1,O=r.length,R=Oe(l-h,0),E=C(R+O),B=!n;++c<R;)E[c]=e[c];for(var G=c;++b<O;)E[G+b]=r[b];for(;++v<h;)(B||c<l)&&(E[G+t[v]]=e[c++]);return E}function Ue(e,r){var t=-1,n=e.length;for(r||(r=C(n));++t<n;)r[t]=e[t];return r}function _r(e,r,t,n){var c=!t;t||(t={});for(var l=-1,v=r.length;++l<v;){var h=r[l],b=n?n(t[h],e[h],h,t,e):d;b===d&&(b=e[h]),c?Cr(t,h,b):Lt(t,h,b)}return t}function nd(e,r){return _r(e,Do(e),r)}function od(e,r){return _r(e,Ja(e),r)}function hn(e,r){return function(t,n){var c=ee(t)?ss:Ol,l=r?r():{};return c(t,e,z(n,2),l)}}function it(e){return ae(function(r,t){var n=-1,c=t.length,l=c>1?t[c-1]:d,v=c>2?t[2]:d;for(l=e.length>3&&typeof l=="function"?(c--,l):d,v&&Pe(t[0],t[1],v)&&(l=c<3?d:l,c=1),r=ve(r);++n<c;){var h=t[n];h&&e(r,h,n,l)}return r})}function Da(e,r){return function(t,n){if(t==null)return t;if(!Ne(t))return e(t,n);for(var c=t.length,l=r?c:-1,v=ve(t);(r?l--:++l<c)&&n(v[l],l,v)!==!1;);return t}}function $a(e){return function(r,t,n){for(var c=-1,l=ve(r),v=n(r),h=v.length;h--;){var b=v[e?h:++c];if(t(l[b],b,l)===!1)break}return r}}function id(e,r,t){var n=r&X,c=Ft(e);function l(){var v=this&&this!==Le&&this instanceof l?c:e;return v.apply(n?t:this,arguments)}return l}function Ua(e){return function(r){r=ye(r);var t=Vr(r)?ur(r):d,n=t?t[0]:r.charAt(0),c=t?Pr(t,1).join(""):r.slice(1);return n[e]()+c}}function at(e){return function(r){return ro($f(Df(r).replace(Yc,"")),e,"")}}function Ft(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var t=ot(e.prototype),n=e.apply(t,r);return Ae(n)?n:t}}function ad(e,r,t){var n=Ft(e);function c(){for(var l=arguments.length,v=C(l),h=l,b=ft(c);h--;)v[h]=arguments[h];var O=l<3&&v[0]!==b&&v[l-1]!==b?[]:Tr(v,b);if(l-=O.length,l<t)return Ha(e,r,_n,c.placeholder,d,v,O,d,d,t-l);var R=this&&this!==Le&&this instanceof c?n:e;return ze(R,this,v)}return c}function Na(e){return function(r,t,n){var c=ve(r);if(!Ne(r)){var l=z(t,3);r=Re(r),t=function(h){return l(c[h],h,c)}}var v=e(r,t,n);return v>-1?c[l?r[v]:v]:d}}function Ga(e){return Sr(function(r){var t=r.length,n=t,c=tr.prototype.thru;for(e&&r.reverse();n--;){var l=r[n];if(typeof l!="function")throw new rr($);if(c&&!v&&wn(l)=="wrapper")var v=new tr([],!0)}for(n=v?n:t;++n<t;){l=r[n];var h=wn(l),b=h=="wrapper"?Mo(l):d;b&&Uo(b[0])&&b[1]==(pe|w|M|Ee)&&!b[4].length&&b[9]==1?v=v[wn(b[0])].apply(v,b[3]):v=l.length==1&&Uo(l)?v[h]():v.thru(l)}return function(){var O=arguments,R=O[0];if(v&&O.length==1&&ee(R))return v.plant(R).value();for(var E=0,B=t?r[E].apply(this,O):R;++E<t;)B=r[E].call(this,B);return B}})}function _n(e,r,t,n,c,l,v,h,b,O){var R=r&pe,E=r&X,B=r&g,G=r&(w|I),Z=r&be,oe=B?d:Ft(e);function Y(){for(var fe=arguments.length,de=C(fe),Je=fe;Je--;)de[Je]=arguments[Je];if(G)var De=ft(Y),Xe=ms(de,De);if(n&&(de=Ma(de,n,c,G)),l&&(de=Pa(de,l,v,G)),fe-=Xe,G&&fe<O){var Ce=Tr(de,De);return Ha(e,r,_n,Y.placeholder,t,de,Ce,h,b,O-fe)}var vr=E?t:this,Lr=B?vr[e]:e;return fe=de.length,h?de=Od(de,h):Z&&fe>1&&de.reverse(),R&&b<fe&&(de.length=b),this&&this!==Le&&this instanceof Y&&(Lr=oe||Ft(Lr)),Lr.apply(vr,de)}return Y}function qa(e,r){return function(t,n){return Fl(t,e,r(n),{})}}function mn(e,r){return function(t,n){var c;if(t===d&&n===d)return r;if(t!==d&&(c=t),n!==d){if(c===d)return n;typeof t=="string"||typeof n=="string"?(t=Ze(t),n=Ze(n)):(t=Ea(t),n=Ea(n)),c=e(t,n)}return c}}function To(e){return Sr(function(r){return r=me(r,Ke(z())),ae(function(t){var n=this;return e(r,function(c){return ze(c,n,t)})})})}function An(e,r){r=r===d?" ":Ze(r);var t=r.length;if(t<2)return t?So(r,e):r;var n=So(r,on(e/Qr(r)));return Vr(r)?Pr(ur(n),0,e).join(""):n.slice(0,e)}function fd(e,r,t,n){var c=r&X,l=Ft(e);function v(){for(var h=-1,b=arguments.length,O=-1,R=n.length,E=C(R+b),B=this&&this!==Le&&this instanceof v?l:e;++O<R;)E[O]=n[O];for(;b--;)E[O++]=arguments[++h];return ze(B,c?t:this,E)}return v}function ka(e){return function(r,t,n){return n&&typeof n!="number"&&Pe(r,t,n)&&(t=n=d),r=Er(r),t===d?(t=r,r=0):t=Er(t),n=n===d?r<t?1:-1:Er(n),zl(r,t,n,e)}}function bn(e){return function(r,t){return typeof r=="string"&&typeof t=="string"||(r=ar(r),t=ar(t)),e(r,t)}}function Ha(e,r,t,n,c,l,v,h,b,O){var R=r&w,E=R?v:d,B=R?d:v,G=R?l:d,Z=R?d:l;r|=R?M:se,r&=~(R?se:M),r&i||(r&=-4);var oe=[e,r,c,G,E,Z,B,h,b,O],Y=t.apply(d,oe);return Uo(e)&&nf(Y,oe),Y.placeholder=n,of(Y,e,r)}function Wo(e){var r=Se[e];return function(t,n){if(t=ar(t),n=n==null?0:We(ne(n),292),n&&oa(t)){var c=(ye(t)+"e").split("e"),l=r(c[0]+"e"+(+c[1]+n));return c=(ye(l)+"e").split("e"),+(c[0]+"e"+(+c[1]-n))}return r(t)}}var cd=tt&&1/Zt(new tt([,-0]))[1]==T?function(e){return new tt(e)}:ri;function za(e){return function(r){var t=Fe(r);return t==lr?co(r):t==dr?Ss(r):_s(r,e(r))}}function pr(e,r,t,n,c,l,v,h){var b=r&g;if(!b&&typeof e!="function")throw new rr($);var O=n?n.length:0;if(O||(r&=-97,n=c=d),v=v===d?v:Oe(ne(v),0),h=h===d?h:ne(h),O-=c?c.length:0,r&se){var R=n,E=c;n=c=d}var B=b?d:Mo(e),G=[e,r,t,n,c,R,E,l,v,h];if(B&&Cd(G,B),e=G[0],r=G[1],t=G[2],n=G[3],c=G[4],h=G[9]=G[9]===d?b?0:e.length:Oe(G[9]-O,0),!h&&r&(w|I)&&(r&=-25),!r||r==X)var Z=id(e,r,t);else r==w||r==I?Z=ad(e,r,h):(r==M||r==(X|M))&&!c.length?Z=fd(e,r,t,n):Z=_n.apply(d,G);var oe=B?Oa:nf;return of(oe(Z,G),e,r)}function Ka(e,r,t,n){return e===d||gr(e,rt[t])&&!ge.call(n,t)?r:e}function Za(e,r,t,n,c,l){return Ae(e)&&Ae(r)&&(l.set(r,e),yn(e,r,d,Za,l),l.delete(r)),e}function sd(e){return Pt(e)?d:e}function Ya(e,r,t,n,c,l){var v=t&re,h=e.length,b=r.length;if(h!=b&&!(v&&b>h))return!1;var O=l.get(e),R=l.get(r);if(O&&R)return O==r&&R==e;var E=-1,B=!0,G=t&Q?new qr:d;for(l.set(e,r),l.set(r,e);++E<h;){var Z=e[E],oe=r[E];if(n)var Y=v?n(oe,Z,E,r,e,l):n(Z,oe,E,e,r,l);if(Y!==d){if(Y)continue;B=!1;break}if(G){if(!to(r,function(fe,de){if(!Ct(G,de)&&(Z===fe||c(Z,fe,t,n,l)))return G.push(de)})){B=!1;break}}else if(!(Z===oe||c(Z,oe,t,n,l))){B=!1;break}}return l.delete(e),l.delete(r),B}function ld(e,r,t,n,c,l,v){switch(t){case Yr:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case xt:return!(e.byteLength!=r.byteLength||!l(new en(e),new en(r)));case Ar:case _t:case mt:return gr(+e,+r);case Ut:return e.name==r.name&&e.message==r.message;case At:case bt:return e==r+"";case lr:var h=co;case dr:var b=n&re;if(h||(h=Zt),e.size!=r.size&&!b)return!1;var O=v.get(e);if(O)return O==r;n|=Q,v.set(e,r);var R=Ya(h(e),h(r),n,c,l,v);return v.delete(e),R;case Gt:if(Et)return Et.call(e)==Et.call(r)}return!1}function dd(e,r,t,n,c,l){var v=t&re,h=Fo(e),b=h.length,O=Fo(r),R=O.length;if(b!=R&&!v)return!1;for(var E=b;E--;){var B=h[E];if(!(v?B in r:ge.call(r,B)))return!1}var G=l.get(e),Z=l.get(r);if(G&&Z)return G==r&&Z==e;var oe=!0;l.set(e,r),l.set(r,e);for(var Y=v;++E<b;){B=h[E];var fe=e[B],de=r[B];if(n)var Je=v?n(de,fe,B,r,e,l):n(fe,de,B,e,r,l);if(!(Je===d?fe===de||c(fe,de,t,n,l):Je)){oe=!1;break}Y||(Y=B=="constructor")}if(oe&&!Y){var De=e.constructor,Xe=r.constructor;De!=Xe&&"constructor"in e&&"constructor"in r&&!(typeof De=="function"&&De instanceof De&&typeof Xe=="function"&&Xe instanceof Xe)&&(oe=!1)}return l.delete(e),l.delete(r),oe}function Sr(e){return Go(rf(e,d,df),e+"")}function Fo(e){return va(e,Re,Do)}function Bo(e){return va(e,Ge,Ja)}var Mo=fn?function(e){return fn.get(e)}:ri;function wn(e){for(var r=e.name+"",t=nt[r],n=ge.call(nt,r)?t.length:0;n--;){var c=t[n],l=c.func;if(l==null||l==e)return c.name}return r}function ft(e){var r=ge.call(s,"placeholder")?s:e;return r.placeholder}function z(){var e=s.iteratee||Qo;return e=e===Qo?ma:e,arguments.length?e(arguments[0],arguments[1]):e}function xn(e,r){var t=e.__data__;return Ad(r)?t[typeof r=="string"?"string":"hash"]:t.map}function Po(e){for(var r=Re(e),t=r.length;t--;){var n=r[t],c=e[n];r[t]=[n,c,Qa(c)]}return r}function zr(e,r){var t=xs(e,r);return _a(t)?t:d}function ud(e){var r=ge.call(e,Nr),t=e[Nr];try{e[Nr]=d;var n=!0}catch{}var c=Vt.call(e);return n&&(r?e[Nr]=t:delete e[Nr]),c}var Do=lo?function(e){return e==null?[]:(e=ve(e),Ir(lo(e),function(r){return ta.call(e,r)}))}:ti,Ja=lo?function(e){for(var r=[];e;)jr(r,Do(e)),e=rn(e);return r}:ti,Fe=Me;(uo&&Fe(new uo(new ArrayBuffer(1)))!=Yr||St&&Fe(new St)!=lr||yo&&Fe(yo.resolve())!=ui||tt&&Fe(new tt)!=dr||Ot&&Fe(new Ot)!=wt)&&(Fe=function(e){var r=Me(e),t=r==br?e.constructor:d,n=t?Kr(t):"";if(n)switch(n){case Zs:return Yr;case Ys:return lr;case Js:return ui;case Xs:return dr;case Vs:return wt}return r});function yd(e,r,t){for(var n=-1,c=t.length;++n<c;){var l=t[n],v=l.size;switch(l.type){case"drop":e+=v;break;case"dropRight":r-=v;break;case"take":r=We(r,e+v);break;case"takeRight":e=Oe(e,r-v);break}}return{start:e,end:r}}function gd(e){var r=e.match(bc);return r?r[1].split(wc):[]}function Xa(e,r,t){r=Mr(r,e);for(var n=-1,c=r.length,l=!1;++n<c;){var v=mr(r[n]);if(!(l=e!=null&&t(e,v)))break;e=e[v]}return l||++n!=c?l:(c=e==null?0:e.length,!!c&&Ln(c)&&Or(v,c)&&(ee(e)||Zr(e)))}function vd(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&ge.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function Va(e){return typeof e.constructor=="function"&&!Bt(e)?ot(rn(e)):{}}function hd(e,r,t){var n=e.constructor;switch(r){case xt:return jo(e);case Ar:case _t:return new n(+e);case Yr:return Ql(e,t);case Mn:case Pn:case Dn:case $n:case Un:case Nn:case Gn:case qn:case kn:return Fa(e,t);case lr:return new n;case mt:case bt:return new n(e);case At:return ed(e);case dr:return new n;case Gt:return rd(e)}}function _d(e,r){var t=r.length;if(!t)return e;var n=t-1;return r[n]=(t>1?"& ":"")+r[n],r=r.join(t>2?", ":" "),e.replace(Ac,`{
/* [wrapped with `+r+`] */
`)}function md(e){return ee(e)||Zr(e)||!!(na&&e&&e[na])}function Or(e,r){var t=typeof e;return r=r??x,!!r&&(t=="number"||t!="symbol"&&Ic.test(e))&&e>-1&&e%1==0&&e<r}function Pe(e,r,t){if(!Ae(t))return!1;var n=typeof r;return(n=="number"?Ne(t)&&Or(r,t.length):n=="string"&&r in t)?gr(t[r],e):!1}function $o(e,r){if(ee(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Ye(e)?!0:vc.test(e)||!gc.test(e)||r!=null&&e in ve(r)}function Ad(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Uo(e){var r=wn(e),t=s[r];if(typeof t!="function"||!(r in ce.prototype))return!1;if(e===t)return!0;var n=Mo(t);return!!n&&e===n[0]}function bd(e){return!!Qi&&Qi in e}var wd=Jt?Rr:ni;function Bt(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||rt;return e===t}function Qa(e){return e===e&&!Ae(e)}function ef(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==d||e in ve(t))}}function xd(e){var r=Rn(e,function(n){return t.size===U&&t.clear(),n}),t=r.cache;return r}function Cd(e,r){var t=e[1],n=r[1],c=t|n,l=c<(X|g|pe),v=n==pe&&t==w||n==pe&&t==Ee&&e[7].length<=r[8]||n==(pe|Ee)&&r[7].length<=r[8]&&t==w;if(!(l||v))return e;n&X&&(e[2]=r[2],c|=t&X?0:i);var h=r[3];if(h){var b=e[3];e[3]=b?Ma(b,h,r[4]):h,e[4]=b?Tr(e[3],H):r[4]}return h=r[5],h&&(b=e[5],e[5]=b?Pa(b,h,r[6]):h,e[6]=b?Tr(e[5],H):r[6]),h=r[7],h&&(e[7]=h),n&pe&&(e[8]=e[8]==null?r[8]:We(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=c,e}function pd(e){var r=[];if(e!=null)for(var t in ve(e))r.push(t);return r}function Sd(e){return Vt.call(e)}function rf(e,r,t){return r=Oe(r===d?e.length-1:r,0),function(){for(var n=arguments,c=-1,l=Oe(n.length-r,0),v=C(l);++c<l;)v[c]=n[r+c];c=-1;for(var h=C(r+1);++c<r;)h[c]=n[c];return h[r]=t(v),ze(e,this,h)}}function tf(e,r){return r.length<2?e:Hr(e,or(r,0,-1))}function Od(e,r){for(var t=e.length,n=We(r.length,t),c=Ue(e);n--;){var l=r[n];e[n]=Or(l,t)?c[l]:d}return e}function No(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var nf=af(Oa),Mt=Ns||function(e,r){return Le.setTimeout(e,r)},Go=af(Yl);function of(e,r,t){var n=r+"";return Go(e,_d(n,Rd(gd(n),t)))}function af(e){var r=0,t=0;return function(){var n=Hs(),c=He-(n-t);if(t=n,c>0){if(++r>=Be)return arguments[0]}else r=0;return e.apply(d,arguments)}}function Cn(e,r){var t=-1,n=e.length,c=n-1;for(r=r===d?n:r;++t<r;){var l=po(t,c),v=e[l];e[l]=e[t],e[t]=v}return e.length=r,e}var ff=xd(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(hc,function(t,n,c,l){r.push(c?l.replace(pc,"$1"):n||t)}),r});function mr(e){if(typeof e=="string"||Ye(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function Kr(e){if(e!=null){try{return Xt.call(e)}catch{}try{return e+""}catch{}}return""}function Rd(e,r){return er(_,function(t){var n="_."+t[0];r&t[1]&&!zt(e,n)&&e.push(n)}),e.sort()}function cf(e){if(e instanceof ce)return e.clone();var r=new tr(e.__wrapped__,e.__chain__);return r.__actions__=Ue(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function Ed(e,r,t){(t?Pe(e,r,t):r===d)?r=1:r=Oe(ne(r),0);var n=e==null?0:e.length;if(!n||r<1)return[];for(var c=0,l=0,v=C(on(n/r));c<n;)v[l++]=or(e,c,c+=r);return v}function Ld(e){for(var r=-1,t=e==null?0:e.length,n=0,c=[];++r<t;){var l=e[r];l&&(c[n++]=l)}return c}function Id(){var e=arguments.length;if(!e)return[];for(var r=C(e-1),t=arguments[0],n=e;n--;)r[n-1]=arguments[n];return jr(ee(t)?Ue(t):[t],Ie(r,1))}var jd=ae(function(e,r){return xe(e)?It(e,Ie(r,1,xe,!0)):[]}),Td=ae(function(e,r){var t=ir(r);return xe(t)&&(t=d),xe(e)?It(e,Ie(r,1,xe,!0),z(t,2)):[]}),Wd=ae(function(e,r){var t=ir(r);return xe(t)&&(t=d),xe(e)?It(e,Ie(r,1,xe,!0),d,t):[]});function Fd(e,r,t){var n=e==null?0:e.length;return n?(r=t||r===d?1:ne(r),or(e,r<0?0:r,n)):[]}function Bd(e,r,t){var n=e==null?0:e.length;return n?(r=t||r===d?1:ne(r),r=n-r,or(e,0,r<0?0:r)):[]}function Md(e,r){return e&&e.length?vn(e,z(r,3),!0,!0):[]}function Pd(e,r){return e&&e.length?vn(e,z(r,3),!0):[]}function Dd(e,r,t,n){var c=e==null?0:e.length;return c?(t&&typeof t!="number"&&Pe(e,r,t)&&(t=0,n=c),Il(e,r,t,n)):[]}function sf(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var c=t==null?0:ne(t);return c<0&&(c=Oe(n+c,0)),Kt(e,z(r,3),c)}function lf(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var c=n-1;return t!==d&&(c=ne(t),c=t<0?Oe(n+c,0):We(c,n-1)),Kt(e,z(r,3),c,!0)}function df(e){var r=e==null?0:e.length;return r?Ie(e,1):[]}function $d(e){var r=e==null?0:e.length;return r?Ie(e,T):[]}function Ud(e,r){var t=e==null?0:e.length;return t?(r=r===d?1:ne(r),Ie(e,r)):[]}function Nd(e){for(var r=-1,t=e==null?0:e.length,n={};++r<t;){var c=e[r];n[c[0]]=c[1]}return n}function uf(e){return e&&e.length?e[0]:d}function Gd(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var c=t==null?0:ne(t);return c<0&&(c=Oe(n+c,0)),Xr(e,r,c)}function qd(e){var r=e==null?0:e.length;return r?or(e,0,-1):[]}var kd=ae(function(e){var r=me(e,Lo);return r.length&&r[0]===e[0]?Ao(r):[]}),Hd=ae(function(e){var r=ir(e),t=me(e,Lo);return r===ir(t)?r=d:t.pop(),t.length&&t[0]===e[0]?Ao(t,z(r,2)):[]}),zd=ae(function(e){var r=ir(e),t=me(e,Lo);return r=typeof r=="function"?r:d,r&&t.pop(),t.length&&t[0]===e[0]?Ao(t,d,r):[]});function Kd(e,r){return e==null?"":qs.call(e,r)}function ir(e){var r=e==null?0:e.length;return r?e[r-1]:d}function Zd(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var c=n;return t!==d&&(c=ne(t),c=c<0?Oe(n+c,0):We(c,n-1)),r===r?Rs(e,r,c):Kt(e,Hi,c,!0)}function Yd(e,r){return e&&e.length?xa(e,ne(r)):d}var Jd=ae(yf);function yf(e,r){return e&&e.length&&r&&r.length?Co(e,r):e}function Xd(e,r,t){return e&&e.length&&r&&r.length?Co(e,r,z(t,2)):e}function Vd(e,r,t){return e&&e.length&&r&&r.length?Co(e,r,d,t):e}var Qd=Sr(function(e,r){var t=e==null?0:e.length,n=vo(e,r);return Sa(e,me(r,function(c){return Or(c,t)?+c:c}).sort(Ba)),n});function eu(e,r){var t=[];if(!(e&&e.length))return t;var n=-1,c=[],l=e.length;for(r=z(r,3);++n<l;){var v=e[n];r(v,n,e)&&(t.push(v),c.push(n))}return Sa(e,c),t}function qo(e){return e==null?e:Ks.call(e)}function ru(e,r,t){var n=e==null?0:e.length;return n?(t&&typeof t!="number"&&Pe(e,r,t)?(r=0,t=n):(r=r==null?0:ne(r),t=t===d?n:ne(t)),or(e,r,t)):[]}function tu(e,r){return gn(e,r)}function nu(e,r,t){return Oo(e,r,z(t,2))}function ou(e,r){var t=e==null?0:e.length;if(t){var n=gn(e,r);if(n<t&&gr(e[n],r))return n}return-1}function iu(e,r){return gn(e,r,!0)}function au(e,r,t){return Oo(e,r,z(t,2),!0)}function fu(e,r){var t=e==null?0:e.length;if(t){var n=gn(e,r,!0)-1;if(gr(e[n],r))return n}return-1}function cu(e){return e&&e.length?Ra(e):[]}function su(e,r){return e&&e.length?Ra(e,z(r,2)):[]}function lu(e){var r=e==null?0:e.length;return r?or(e,1,r):[]}function du(e,r,t){return e&&e.length?(r=t||r===d?1:ne(r),or(e,0,r<0?0:r)):[]}function uu(e,r,t){var n=e==null?0:e.length;return n?(r=t||r===d?1:ne(r),r=n-r,or(e,r<0?0:r,n)):[]}function yu(e,r){return e&&e.length?vn(e,z(r,3),!1,!0):[]}function gu(e,r){return e&&e.length?vn(e,z(r,3)):[]}var vu=ae(function(e){return Br(Ie(e,1,xe,!0))}),hu=ae(function(e){var r=ir(e);return xe(r)&&(r=d),Br(Ie(e,1,xe,!0),z(r,2))}),_u=ae(function(e){var r=ir(e);return r=typeof r=="function"?r:d,Br(Ie(e,1,xe,!0),d,r)});function mu(e){return e&&e.length?Br(e):[]}function Au(e,r){return e&&e.length?Br(e,z(r,2)):[]}function bu(e,r){return r=typeof r=="function"?r:d,e&&e.length?Br(e,d,r):[]}function ko(e){if(!(e&&e.length))return[];var r=0;return e=Ir(e,function(t){if(xe(t))return r=Oe(t.length,r),!0}),ao(r,function(t){return me(e,no(t))})}function gf(e,r){if(!(e&&e.length))return[];var t=ko(e);return r==null?t:me(t,function(n){return ze(r,d,n)})}var wu=ae(function(e,r){return xe(e)?It(e,r):[]}),xu=ae(function(e){return Eo(Ir(e,xe))}),Cu=ae(function(e){var r=ir(e);return xe(r)&&(r=d),Eo(Ir(e,xe),z(r,2))}),pu=ae(function(e){var r=ir(e);return r=typeof r=="function"?r:d,Eo(Ir(e,xe),d,r)}),Su=ae(ko);function Ou(e,r){return ja(e||[],r||[],Lt)}function Ru(e,r){return ja(e||[],r||[],Wt)}var Eu=ae(function(e){var r=e.length,t=r>1?e[r-1]:d;return t=typeof t=="function"?(e.pop(),t):d,gf(e,t)});function vf(e){var r=s(e);return r.__chain__=!0,r}function Lu(e,r){return r(e),e}function pn(e,r){return r(e)}var Iu=Sr(function(e){var r=e.length,t=r?e[0]:0,n=this.__wrapped__,c=function(l){return vo(l,e)};return r>1||this.__actions__.length||!(n instanceof ce)||!Or(t)?this.thru(c):(n=n.slice(t,+t+(r?1:0)),n.__actions__.push({func:pn,args:[c],thisArg:d}),new tr(n,this.__chain__).thru(function(l){return r&&!l.length&&l.push(d),l}))});function ju(){return vf(this)}function Tu(){return new tr(this.value(),this.__chain__)}function Wu(){this.__values__===d&&(this.__values__=Lf(this.value()));var e=this.__index__>=this.__values__.length,r=e?d:this.__values__[this.__index__++];return{done:e,value:r}}function Fu(){return this}function Bu(e){for(var r,t=this;t instanceof sn;){var n=cf(t);n.__index__=0,n.__values__=d,r?c.__wrapped__=n:r=n;var c=n;t=t.__wrapped__}return c.__wrapped__=e,r}function Mu(){var e=this.__wrapped__;if(e instanceof ce){var r=e;return this.__actions__.length&&(r=new ce(this)),r=r.reverse(),r.__actions__.push({func:pn,args:[qo],thisArg:d}),new tr(r,this.__chain__)}return this.thru(qo)}function Pu(){return Ia(this.__wrapped__,this.__actions__)}var Du=hn(function(e,r,t){ge.call(e,t)?++e[t]:Cr(e,t,1)});function $u(e,r,t){var n=ee(e)?qi:Ll;return t&&Pe(e,r,t)&&(r=d),n(e,z(r,3))}function Uu(e,r){var t=ee(e)?Ir:ya;return t(e,z(r,3))}var Nu=Na(sf),Gu=Na(lf);function qu(e,r){return Ie(Sn(e,r),1)}function ku(e,r){return Ie(Sn(e,r),T)}function Hu(e,r,t){return t=t===d?1:ne(t),Ie(Sn(e,r),t)}function hf(e,r){var t=ee(e)?er:Fr;return t(e,z(r,3))}function _f(e,r){var t=ee(e)?ls:ua;return t(e,z(r,3))}var zu=hn(function(e,r,t){ge.call(e,t)?e[t].push(r):Cr(e,t,[r])});function Ku(e,r,t,n){e=Ne(e)?e:st(e),t=t&&!n?ne(t):0;var c=e.length;return t<0&&(t=Oe(c+t,0)),In(e)?t<=c&&e.indexOf(r,t)>-1:!!c&&Xr(e,r,t)>-1}var Zu=ae(function(e,r,t){var n=-1,c=typeof r=="function",l=Ne(e)?C(e.length):[];return Fr(e,function(v){l[++n]=c?ze(r,v,t):jt(v,r,t)}),l}),Yu=hn(function(e,r,t){Cr(e,t,r)});function Sn(e,r){var t=ee(e)?me:Aa;return t(e,z(r,3))}function Ju(e,r,t,n){return e==null?[]:(ee(r)||(r=r==null?[]:[r]),t=n?d:t,ee(t)||(t=t==null?[]:[t]),Ca(e,r,t))}var Xu=hn(function(e,r,t){e[t?0:1].push(r)},function(){return[[],[]]});function Vu(e,r,t){var n=ee(e)?ro:Ki,c=arguments.length<3;return n(e,z(r,4),t,c,Fr)}function Qu(e,r,t){var n=ee(e)?ds:Ki,c=arguments.length<3;return n(e,z(r,4),t,c,ua)}function ey(e,r){var t=ee(e)?Ir:ya;return t(e,En(z(r,3)))}function ry(e){var r=ee(e)?ca:Kl;return r(e)}function ty(e,r,t){(t?Pe(e,r,t):r===d)?r=1:r=ne(r);var n=ee(e)?pl:Zl;return n(e,r)}function ny(e){var r=ee(e)?Sl:Jl;return r(e)}function oy(e){if(e==null)return 0;if(Ne(e))return In(e)?Qr(e):e.length;var r=Fe(e);return r==lr||r==dr?e.size:wo(e).length}function iy(e,r,t){var n=ee(e)?to:Xl;return t&&Pe(e,r,t)&&(r=d),n(e,z(r,3))}var ay=ae(function(e,r){if(e==null)return[];var t=r.length;return t>1&&Pe(e,r[0],r[1])?r=[]:t>2&&Pe(r[0],r[1],r[2])&&(r=[r[0]]),Ca(e,Ie(r,1),[])}),On=Us||function(){return Le.Date.now()};function fy(e,r){if(typeof r!="function")throw new rr($);return e=ne(e),function(){if(--e<1)return r.apply(this,arguments)}}function mf(e,r,t){return r=t?d:r,r=e&&r==null?e.length:r,pr(e,pe,d,d,d,d,r)}function Af(e,r){var t;if(typeof r!="function")throw new rr($);return e=ne(e),function(){return--e>0&&(t=r.apply(this,arguments)),e<=1&&(r=d),t}}var Ho=ae(function(e,r,t){var n=X;if(t.length){var c=Tr(t,ft(Ho));n|=M}return pr(e,n,r,t,c)}),bf=ae(function(e,r,t){var n=X|g;if(t.length){var c=Tr(t,ft(bf));n|=M}return pr(r,n,e,t,c)});function wf(e,r,t){r=t?d:r;var n=pr(e,w,d,d,d,d,d,r);return n.placeholder=wf.placeholder,n}function xf(e,r,t){r=t?d:r;var n=pr(e,I,d,d,d,d,d,r);return n.placeholder=xf.placeholder,n}function Cf(e,r,t){var n,c,l,v,h,b,O=0,R=!1,E=!1,B=!0;if(typeof e!="function")throw new rr($);r=ar(r)||0,Ae(t)&&(R=!!t.leading,E="maxWait"in t,l=E?Oe(ar(t.maxWait)||0,r):l,B="trailing"in t?!!t.trailing:B);function G(Ce){var vr=n,Lr=c;return n=c=d,O=Ce,v=e.apply(Lr,vr),v}function Z(Ce){return O=Ce,h=Mt(fe,r),R?G(Ce):v}function oe(Ce){var vr=Ce-b,Lr=Ce-O,Gf=r-vr;return E?We(Gf,l-Lr):Gf}function Y(Ce){var vr=Ce-b,Lr=Ce-O;return b===d||vr>=r||vr<0||E&&Lr>=l}function fe(){var Ce=On();if(Y(Ce))return de(Ce);h=Mt(fe,oe(Ce))}function de(Ce){return h=d,B&&n?G(Ce):(n=c=d,v)}function Je(){h!==d&&Ta(h),O=0,n=b=c=h=d}function De(){return h===d?v:de(On())}function Xe(){var Ce=On(),vr=Y(Ce);if(n=arguments,c=this,b=Ce,vr){if(h===d)return Z(b);if(E)return Ta(h),h=Mt(fe,r),G(b)}return h===d&&(h=Mt(fe,r)),v}return Xe.cancel=Je,Xe.flush=De,Xe}var cy=ae(function(e,r){return da(e,1,r)}),sy=ae(function(e,r,t){return da(e,ar(r)||0,t)});function ly(e){return pr(e,be)}function Rn(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new rr($);var t=function(){var n=arguments,c=r?r.apply(this,n):n[0],l=t.cache;if(l.has(c))return l.get(c);var v=e.apply(this,n);return t.cache=l.set(c,v)||l,v};return t.cache=new(Rn.Cache||xr),t}Rn.Cache=xr;function En(e){if(typeof e!="function")throw new rr($);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function dy(e){return Af(2,e)}var uy=Vl(function(e,r){r=r.length==1&&ee(r[0])?me(r[0],Ke(z())):me(Ie(r,1),Ke(z()));var t=r.length;return ae(function(n){for(var c=-1,l=We(n.length,t);++c<l;)n[c]=r[c].call(this,n[c]);return ze(e,this,n)})}),zo=ae(function(e,r){var t=Tr(r,ft(zo));return pr(e,M,d,r,t)}),pf=ae(function(e,r){var t=Tr(r,ft(pf));return pr(e,se,d,r,t)}),yy=Sr(function(e,r){return pr(e,Ee,d,d,d,r)});function gy(e,r){if(typeof e!="function")throw new rr($);return r=r===d?r:ne(r),ae(e,r)}function vy(e,r){if(typeof e!="function")throw new rr($);return r=r==null?0:Oe(ne(r),0),ae(function(t){var n=t[r],c=Pr(t,0,r);return n&&jr(c,n),ze(e,this,c)})}function hy(e,r,t){var n=!0,c=!0;if(typeof e!="function")throw new rr($);return Ae(t)&&(n="leading"in t?!!t.leading:n,c="trailing"in t?!!t.trailing:c),Cf(e,r,{leading:n,maxWait:r,trailing:c})}function _y(e){return mf(e,1)}function my(e,r){return zo(Io(r),e)}function Ay(){if(!arguments.length)return[];var e=arguments[0];return ee(e)?e:[e]}function by(e){return nr(e,ie)}function wy(e,r){return r=typeof r=="function"?r:d,nr(e,ie,r)}function xy(e){return nr(e,K|ie)}function Cy(e,r){return r=typeof r=="function"?r:d,nr(e,K|ie,r)}function py(e,r){return r==null||la(e,r,Re(r))}function gr(e,r){return e===r||e!==e&&r!==r}var Sy=bn(mo),Oy=bn(function(e,r){return e>=r}),Zr=ha(function(){return arguments}())?ha:function(e){return we(e)&&ge.call(e,"callee")&&!ta.call(e,"callee")},ee=C.isArray,Ry=Pi?Ke(Pi):Bl;function Ne(e){return e!=null&&Ln(e.length)&&!Rr(e)}function xe(e){return we(e)&&Ne(e)}function Ey(e){return e===!0||e===!1||we(e)&&Me(e)==Ar}var Dr=Gs||ni,Ly=Di?Ke(Di):Ml;function Iy(e){return we(e)&&e.nodeType===1&&!Pt(e)}function jy(e){if(e==null)return!0;if(Ne(e)&&(ee(e)||typeof e=="string"||typeof e.splice=="function"||Dr(e)||ct(e)||Zr(e)))return!e.length;var r=Fe(e);if(r==lr||r==dr)return!e.size;if(Bt(e))return!wo(e).length;for(var t in e)if(ge.call(e,t))return!1;return!0}function Ty(e,r){return Tt(e,r)}function Wy(e,r,t){t=typeof t=="function"?t:d;var n=t?t(e,r):d;return n===d?Tt(e,r,d,t):!!n}function Ko(e){if(!we(e))return!1;var r=Me(e);return r==Ut||r==tc||typeof e.message=="string"&&typeof e.name=="string"&&!Pt(e)}function Fy(e){return typeof e=="number"&&oa(e)}function Rr(e){if(!Ae(e))return!1;var r=Me(e);return r==Nt||r==di||r==le||r==oc}function Sf(e){return typeof e=="number"&&e==ne(e)}function Ln(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=x}function Ae(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function we(e){return e!=null&&typeof e=="object"}var Of=$i?Ke($i):Dl;function By(e,r){return e===r||bo(e,r,Po(r))}function My(e,r,t){return t=typeof t=="function"?t:d,bo(e,r,Po(r),t)}function Py(e){return Rf(e)&&e!=+e}function Dy(e){if(wd(e))throw new V(D);return _a(e)}function $y(e){return e===null}function Uy(e){return e==null}function Rf(e){return typeof e=="number"||we(e)&&Me(e)==mt}function Pt(e){if(!we(e)||Me(e)!=br)return!1;var r=rn(e);if(r===null)return!0;var t=ge.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Xt.call(t)==Ms}var Zo=Ui?Ke(Ui):$l;function Ny(e){return Sf(e)&&e>=-9007199254740991&&e<=x}var Ef=Ni?Ke(Ni):Ul;function In(e){return typeof e=="string"||!ee(e)&&we(e)&&Me(e)==bt}function Ye(e){return typeof e=="symbol"||we(e)&&Me(e)==Gt}var ct=Gi?Ke(Gi):Nl;function Gy(e){return e===d}function qy(e){return we(e)&&Fe(e)==wt}function ky(e){return we(e)&&Me(e)==ac}var Hy=bn(xo),zy=bn(function(e,r){return e<=r});function Lf(e){if(!e)return[];if(Ne(e))return In(e)?ur(e):Ue(e);if(pt&&e[pt])return ps(e[pt]());var r=Fe(e),t=r==lr?co:r==dr?Zt:st;return t(e)}function Er(e){if(!e)return e===0?e:0;if(e=ar(e),e===T||e===-1/0){var r=e<0?-1:1;return r*f}return e===e?e:0}function ne(e){var r=Er(e),t=r%1;return r===r?t?r-t:r:0}function If(e){return e?kr(ne(e),0,y):0}function ar(e){if(typeof e=="number")return e;if(Ye(e))return a;if(Ae(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Ae(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Zi(e);var t=Rc.test(e);return t||Lc.test(e)?fs(e.slice(2),t?2:8):Oc.test(e)?a:+e}function jf(e){return _r(e,Ge(e))}function Ky(e){return e?kr(ne(e),-9007199254740991,x):e===0?e:0}function ye(e){return e==null?"":Ze(e)}var Zy=it(function(e,r){if(Bt(r)||Ne(r)){_r(r,Re(r),e);return}for(var t in r)ge.call(r,t)&&Lt(e,t,r[t])}),Tf=it(function(e,r){_r(r,Ge(r),e)}),jn=it(function(e,r,t,n){_r(r,Ge(r),e,n)}),Yy=it(function(e,r,t,n){_r(r,Re(r),e,n)}),Jy=Sr(vo);function Xy(e,r){var t=ot(e);return r==null?t:sa(t,r)}var Vy=ae(function(e,r){e=ve(e);var t=-1,n=r.length,c=n>2?r[2]:d;for(c&&Pe(r[0],r[1],c)&&(n=1);++t<n;)for(var l=r[t],v=Ge(l),h=-1,b=v.length;++h<b;){var O=v[h],R=e[O];(R===d||gr(R,rt[O])&&!ge.call(e,O))&&(e[O]=l[O])}return e}),Qy=ae(function(e){return e.push(d,Za),ze(Wf,d,e)});function eg(e,r){return ki(e,z(r,3),hr)}function rg(e,r){return ki(e,z(r,3),_o)}function tg(e,r){return e==null?e:ho(e,z(r,3),Ge)}function ng(e,r){return e==null?e:ga(e,z(r,3),Ge)}function og(e,r){return e&&hr(e,z(r,3))}function ig(e,r){return e&&_o(e,z(r,3))}function ag(e){return e==null?[]:un(e,Re(e))}function fg(e){return e==null?[]:un(e,Ge(e))}function Yo(e,r,t){var n=e==null?d:Hr(e,r);return n===d?t:n}function cg(e,r){return e!=null&&Xa(e,r,jl)}function Jo(e,r){return e!=null&&Xa(e,r,Tl)}var sg=qa(function(e,r,t){r!=null&&typeof r.toString!="function"&&(r=Vt.call(r)),e[r]=t},Vo(qe)),lg=qa(function(e,r,t){r!=null&&typeof r.toString!="function"&&(r=Vt.call(r)),ge.call(e,r)?e[r].push(t):e[r]=[t]},z),dg=ae(jt);function Re(e){return Ne(e)?fa(e):wo(e)}function Ge(e){return Ne(e)?fa(e,!0):Gl(e)}function ug(e,r){var t={};return r=z(r,3),hr(e,function(n,c,l){Cr(t,r(n,c,l),n)}),t}function yg(e,r){var t={};return r=z(r,3),hr(e,function(n,c,l){Cr(t,c,r(n,c,l))}),t}var gg=it(function(e,r,t){yn(e,r,t)}),Wf=it(function(e,r,t,n){yn(e,r,t,n)}),vg=Sr(function(e,r){var t={};if(e==null)return t;var n=!1;r=me(r,function(l){return l=Mr(l,e),n||(n=l.length>1),l}),_r(e,Bo(e),t),n&&(t=nr(t,K|te|ie,sd));for(var c=r.length;c--;)Ro(t,r[c]);return t});function hg(e,r){return Ff(e,En(z(r)))}var _g=Sr(function(e,r){return e==null?{}:kl(e,r)});function Ff(e,r){if(e==null)return{};var t=me(Bo(e),function(n){return[n]});return r=z(r),pa(e,t,function(n,c){return r(n,c[0])})}function mg(e,r,t){r=Mr(r,e);var n=-1,c=r.length;for(c||(c=1,e=d);++n<c;){var l=e==null?d:e[mr(r[n])];l===d&&(n=c,l=t),e=Rr(l)?l.call(e):l}return e}function Ag(e,r,t){return e==null?e:Wt(e,r,t)}function bg(e,r,t,n){return n=typeof n=="function"?n:d,e==null?e:Wt(e,r,t,n)}var Bf=za(Re),Mf=za(Ge);function wg(e,r,t){var n=ee(e),c=n||Dr(e)||ct(e);if(r=z(r,4),t==null){var l=e&&e.constructor;c?t=n?new l:[]:Ae(e)?t=Rr(l)?ot(rn(e)):{}:t={}}return(c?er:hr)(e,function(v,h,b){return r(t,v,h,b)}),t}function xg(e,r){return e==null?!0:Ro(e,r)}function Cg(e,r,t){return e==null?e:La(e,r,Io(t))}function pg(e,r,t,n){return n=typeof n=="function"?n:d,e==null?e:La(e,r,Io(t),n)}function st(e){return e==null?[]:fo(e,Re(e))}function Sg(e){return e==null?[]:fo(e,Ge(e))}function Og(e,r,t){return t===d&&(t=r,r=d),t!==d&&(t=ar(t),t=t===t?t:0),r!==d&&(r=ar(r),r=r===r?r:0),kr(ar(e),r,t)}function Rg(e,r,t){return r=Er(r),t===d?(t=r,r=0):t=Er(t),e=ar(e),Wl(e,r,t)}function Eg(e,r,t){if(t&&typeof t!="boolean"&&Pe(e,r,t)&&(r=t=d),t===d&&(typeof r=="boolean"?(t=r,r=d):typeof e=="boolean"&&(t=e,e=d)),e===d&&r===d?(e=0,r=1):(e=Er(e),r===d?(r=e,e=0):r=Er(r)),e>r){var n=e;e=r,r=n}if(t||e%1||r%1){var c=ia();return We(e+c*(r-e+as("1e-"+((c+"").length-1))),r)}return po(e,r)}var Lg=at(function(e,r,t){return r=r.toLowerCase(),e+(t?Pf(r):r)});function Pf(e){return Xo(ye(e).toLowerCase())}function Df(e){return e=ye(e),e&&e.replace(jc,As).replace(Jc,"")}function Ig(e,r,t){e=ye(e),r=Ze(r);var n=e.length;t=t===d?n:kr(ne(t),0,n);var c=t;return t-=r.length,t>=0&&e.slice(t,c)==r}function jg(e){return e=ye(e),e&&dc.test(e)?e.replace(gi,bs):e}function Tg(e){return e=ye(e),e&&_c.test(e)?e.replace(Hn,"\\$&"):e}var Wg=at(function(e,r,t){return e+(t?"-":"")+r.toLowerCase()}),Fg=at(function(e,r,t){return e+(t?" ":"")+r.toLowerCase()}),Bg=Ua("toLowerCase");function Mg(e,r,t){e=ye(e),r=ne(r);var n=r?Qr(e):0;if(!r||n>=r)return e;var c=(r-n)/2;return An(an(c),t)+e+An(on(c),t)}function Pg(e,r,t){e=ye(e),r=ne(r);var n=r?Qr(e):0;return r&&n<r?e+An(r-n,t):e}function Dg(e,r,t){e=ye(e),r=ne(r);var n=r?Qr(e):0;return r&&n<r?An(r-n,t)+e:e}function $g(e,r,t){return t||r==null?r=0:r&&(r=+r),zs(ye(e).replace(zn,""),r||0)}function Ug(e,r,t){return(t?Pe(e,r,t):r===d)?r=1:r=ne(r),So(ye(e),r)}function Ng(){var e=arguments,r=ye(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var Gg=at(function(e,r,t){return e+(t?"_":"")+r.toLowerCase()});function qg(e,r,t){return t&&typeof t!="number"&&Pe(e,r,t)&&(r=t=d),t=t===d?y:t>>>0,t?(e=ye(e),e&&(typeof r=="string"||r!=null&&!Zo(r))&&(r=Ze(r),!r&&Vr(e))?Pr(ur(e),0,t):e.split(r,t)):[]}var kg=at(function(e,r,t){return e+(t?" ":"")+Xo(r)});function Hg(e,r,t){return e=ye(e),t=t==null?0:kr(ne(t),0,e.length),r=Ze(r),e.slice(t,t+r.length)==r}function zg(e,r,t){var n=s.templateSettings;t&&Pe(e,r,t)&&(r=d),e=ye(e),r=jn({},r,n,Ka);var c=jn({},r.imports,n.imports,Ka),l=Re(c),v=fo(c,l),h,b,O=0,R=r.interpolate||qt,E="__p += '",B=so((r.escape||qt).source+"|"+R.source+"|"+(R===vi?Sc:qt).source+"|"+(r.evaluate||qt).source+"|$","g"),G="//# sourceURL="+(ge.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rs+"]")+`
`;e.replace(B,function(Y,fe,de,Je,De,Xe){return de||(de=Je),E+=e.slice(O,Xe).replace(Tc,ws),fe&&(h=!0,E+=`' +
__e(`+fe+`) +
'`),De&&(b=!0,E+=`';
`+De+`;
__p += '`),de&&(E+=`' +
((__t = (`+de+`)) == null ? '' : __t) +
'`),O=Xe+Y.length,Y}),E+=`';
`;var Z=ge.call(r,"variable")&&r.variable;if(!Z)E=`with (obj) {
`+E+`
}
`;else if(Cc.test(Z))throw new V(J);E=(b?E.replace(fc,""):E).replace(cc,"$1").replace(sc,"$1;"),E="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(h?", __e = _.escape":"")+(b?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+E+`return __p
}`;var oe=Uf(function(){return ue(l,G+"return "+E).apply(d,v)});if(oe.source=E,Ko(oe))throw oe;return oe}function Kg(e){return ye(e).toLowerCase()}function Zg(e){return ye(e).toUpperCase()}function Yg(e,r,t){if(e=ye(e),e&&(t||r===d))return Zi(e);if(!e||!(r=Ze(r)))return e;var n=ur(e),c=ur(r),l=Yi(n,c),v=Ji(n,c)+1;return Pr(n,l,v).join("")}function Jg(e,r,t){if(e=ye(e),e&&(t||r===d))return e.slice(0,Vi(e)+1);if(!e||!(r=Ze(r)))return e;var n=ur(e),c=Ji(n,ur(r))+1;return Pr(n,0,c).join("")}function Xg(e,r,t){if(e=ye(e),e&&(t||r===d))return e.replace(zn,"");if(!e||!(r=Ze(r)))return e;var n=ur(e),c=Yi(n,ur(r));return Pr(n,c).join("")}function Vg(e,r){var t=ke,n=je;if(Ae(r)){var c="separator"in r?r.separator:c;t="length"in r?ne(r.length):t,n="omission"in r?Ze(r.omission):n}e=ye(e);var l=e.length;if(Vr(e)){var v=ur(e);l=v.length}if(t>=l)return e;var h=t-Qr(n);if(h<1)return n;var b=v?Pr(v,0,h).join(""):e.slice(0,h);if(c===d)return b+n;if(v&&(h+=b.length-h),Zo(c)){if(e.slice(h).search(c)){var O,R=b;for(c.global||(c=so(c.source,ye(hi.exec(c))+"g")),c.lastIndex=0;O=c.exec(R);)var E=O.index;b=b.slice(0,E===d?h:E)}}else if(e.indexOf(Ze(c),h)!=h){var B=b.lastIndexOf(c);B>-1&&(b=b.slice(0,B))}return b+n}function Qg(e){return e=ye(e),e&&lc.test(e)?e.replace(yi,Es):e}var ev=at(function(e,r,t){return e+(t?" ":"")+r.toUpperCase()}),Xo=Ua("toUpperCase");function $f(e,r,t){return e=ye(e),r=t?d:r,r===d?Cs(e)?js(e):gs(e):e.match(r)||[]}var Uf=ae(function(e,r){try{return ze(e,d,r)}catch(t){return Ko(t)?t:new V(t)}}),rv=Sr(function(e,r){return er(r,function(t){t=mr(t),Cr(e,t,Ho(e[t],e))}),e});function tv(e){var r=e==null?0:e.length,t=z();return e=r?me(e,function(n){if(typeof n[1]!="function")throw new rr($);return[t(n[0]),n[1]]}):[],ae(function(n){for(var c=-1;++c<r;){var l=e[c];if(ze(l[0],this,n))return ze(l[1],this,n)}})}function nv(e){return El(nr(e,K))}function Vo(e){return function(){return e}}function ov(e,r){return e==null||e!==e?r:e}var iv=Ga(),av=Ga(!0);function qe(e){return e}function Qo(e){return ma(typeof e=="function"?e:nr(e,K))}function fv(e){return ba(nr(e,K))}function cv(e,r){return wa(e,nr(r,K))}var sv=ae(function(e,r){return function(t){return jt(t,e,r)}}),lv=ae(function(e,r){return function(t){return jt(e,t,r)}});function ei(e,r,t){var n=Re(r),c=un(r,n);t==null&&!(Ae(r)&&(c.length||!n.length))&&(t=r,r=e,e=this,c=un(r,Re(r)));var l=!(Ae(t)&&"chain"in t)||!!t.chain,v=Rr(e);return er(c,function(h){var b=r[h];e[h]=b,v&&(e.prototype[h]=function(){var O=this.__chain__;if(l||O){var R=e(this.__wrapped__),E=R.__actions__=Ue(this.__actions__);return E.push({func:b,args:arguments,thisArg:e}),R.__chain__=O,R}return b.apply(e,jr([this.value()],arguments))})}),e}function dv(){return Le._===this&&(Le._=Ps),this}function ri(){}function uv(e){return e=ne(e),ae(function(r){return xa(r,e)})}var yv=To(me),gv=To(qi),vv=To(to);function Nf(e){return $o(e)?no(mr(e)):Hl(e)}function hv(e){return function(r){return e==null?d:Hr(e,r)}}var _v=ka(),mv=ka(!0);function ti(){return[]}function ni(){return!1}function Av(){return{}}function bv(){return""}function wv(){return!0}function xv(e,r){if(e=ne(e),e<1||e>x)return[];var t=y,n=We(e,y);r=z(r),e-=y;for(var c=ao(n,r);++t<e;)r(t);return c}function Cv(e){return ee(e)?me(e,mr):Ye(e)?[e]:Ue(ff(ye(e)))}function pv(e){var r=++Bs;return ye(e)+r}var Sv=mn(function(e,r){return e+r},0),Ov=Wo("ceil"),Rv=mn(function(e,r){return e/r},1),Ev=Wo("floor");function Lv(e){return e&&e.length?dn(e,qe,mo):d}function Iv(e,r){return e&&e.length?dn(e,z(r,2),mo):d}function jv(e){return zi(e,qe)}function Tv(e,r){return zi(e,z(r,2))}function Wv(e){return e&&e.length?dn(e,qe,xo):d}function Fv(e,r){return e&&e.length?dn(e,z(r,2),xo):d}var Bv=mn(function(e,r){return e*r},1),Mv=Wo("round"),Pv=mn(function(e,r){return e-r},0);function Dv(e){return e&&e.length?io(e,qe):0}function $v(e,r){return e&&e.length?io(e,z(r,2)):0}return s.after=fy,s.ary=mf,s.assign=Zy,s.assignIn=Tf,s.assignInWith=jn,s.assignWith=Yy,s.at=Jy,s.before=Af,s.bind=Ho,s.bindAll=rv,s.bindKey=bf,s.castArray=Ay,s.chain=vf,s.chunk=Ed,s.compact=Ld,s.concat=Id,s.cond=tv,s.conforms=nv,s.constant=Vo,s.countBy=Du,s.create=Xy,s.curry=wf,s.curryRight=xf,s.debounce=Cf,s.defaults=Vy,s.defaultsDeep=Qy,s.defer=cy,s.delay=sy,s.difference=jd,s.differenceBy=Td,s.differenceWith=Wd,s.drop=Fd,s.dropRight=Bd,s.dropRightWhile=Md,s.dropWhile=Pd,s.fill=Dd,s.filter=Uu,s.flatMap=qu,s.flatMapDeep=ku,s.flatMapDepth=Hu,s.flatten=df,s.flattenDeep=$d,s.flattenDepth=Ud,s.flip=ly,s.flow=iv,s.flowRight=av,s.fromPairs=Nd,s.functions=ag,s.functionsIn=fg,s.groupBy=zu,s.initial=qd,s.intersection=kd,s.intersectionBy=Hd,s.intersectionWith=zd,s.invert=sg,s.invertBy=lg,s.invokeMap=Zu,s.iteratee=Qo,s.keyBy=Yu,s.keys=Re,s.keysIn=Ge,s.map=Sn,s.mapKeys=ug,s.mapValues=yg,s.matches=fv,s.matchesProperty=cv,s.memoize=Rn,s.merge=gg,s.mergeWith=Wf,s.method=sv,s.methodOf=lv,s.mixin=ei,s.negate=En,s.nthArg=uv,s.omit=vg,s.omitBy=hg,s.once=dy,s.orderBy=Ju,s.over=yv,s.overArgs=uy,s.overEvery=gv,s.overSome=vv,s.partial=zo,s.partialRight=pf,s.partition=Xu,s.pick=_g,s.pickBy=Ff,s.property=Nf,s.propertyOf=hv,s.pull=Jd,s.pullAll=yf,s.pullAllBy=Xd,s.pullAllWith=Vd,s.pullAt=Qd,s.range=_v,s.rangeRight=mv,s.rearg=yy,s.reject=ey,s.remove=eu,s.rest=gy,s.reverse=qo,s.sampleSize=ty,s.set=Ag,s.setWith=bg,s.shuffle=ny,s.slice=ru,s.sortBy=ay,s.sortedUniq=cu,s.sortedUniqBy=su,s.split=qg,s.spread=vy,s.tail=lu,s.take=du,s.takeRight=uu,s.takeRightWhile=yu,s.takeWhile=gu,s.tap=Lu,s.throttle=hy,s.thru=pn,s.toArray=Lf,s.toPairs=Bf,s.toPairsIn=Mf,s.toPath=Cv,s.toPlainObject=jf,s.transform=wg,s.unary=_y,s.union=vu,s.unionBy=hu,s.unionWith=_u,s.uniq=mu,s.uniqBy=Au,s.uniqWith=bu,s.unset=xg,s.unzip=ko,s.unzipWith=gf,s.update=Cg,s.updateWith=pg,s.values=st,s.valuesIn=Sg,s.without=wu,s.words=$f,s.wrap=my,s.xor=xu,s.xorBy=Cu,s.xorWith=pu,s.zip=Su,s.zipObject=Ou,s.zipObjectDeep=Ru,s.zipWith=Eu,s.entries=Bf,s.entriesIn=Mf,s.extend=Tf,s.extendWith=jn,ei(s,s),s.add=Sv,s.attempt=Uf,s.camelCase=Lg,s.capitalize=Pf,s.ceil=Ov,s.clamp=Og,s.clone=by,s.cloneDeep=xy,s.cloneDeepWith=Cy,s.cloneWith=wy,s.conformsTo=py,s.deburr=Df,s.defaultTo=ov,s.divide=Rv,s.endsWith=Ig,s.eq=gr,s.escape=jg,s.escapeRegExp=Tg,s.every=$u,s.find=Nu,s.findIndex=sf,s.findKey=eg,s.findLast=Gu,s.findLastIndex=lf,s.findLastKey=rg,s.floor=Ev,s.forEach=hf,s.forEachRight=_f,s.forIn=tg,s.forInRight=ng,s.forOwn=og,s.forOwnRight=ig,s.get=Yo,s.gt=Sy,s.gte=Oy,s.has=cg,s.hasIn=Jo,s.head=uf,s.identity=qe,s.includes=Ku,s.indexOf=Gd,s.inRange=Rg,s.invoke=dg,s.isArguments=Zr,s.isArray=ee,s.isArrayBuffer=Ry,s.isArrayLike=Ne,s.isArrayLikeObject=xe,s.isBoolean=Ey,s.isBuffer=Dr,s.isDate=Ly,s.isElement=Iy,s.isEmpty=jy,s.isEqual=Ty,s.isEqualWith=Wy,s.isError=Ko,s.isFinite=Fy,s.isFunction=Rr,s.isInteger=Sf,s.isLength=Ln,s.isMap=Of,s.isMatch=By,s.isMatchWith=My,s.isNaN=Py,s.isNative=Dy,s.isNil=Uy,s.isNull=$y,s.isNumber=Rf,s.isObject=Ae,s.isObjectLike=we,s.isPlainObject=Pt,s.isRegExp=Zo,s.isSafeInteger=Ny,s.isSet=Ef,s.isString=In,s.isSymbol=Ye,s.isTypedArray=ct,s.isUndefined=Gy,s.isWeakMap=qy,s.isWeakSet=ky,s.join=Kd,s.kebabCase=Wg,s.last=ir,s.lastIndexOf=Zd,s.lowerCase=Fg,s.lowerFirst=Bg,s.lt=Hy,s.lte=zy,s.max=Lv,s.maxBy=Iv,s.mean=jv,s.meanBy=Tv,s.min=Wv,s.minBy=Fv,s.stubArray=ti,s.stubFalse=ni,s.stubObject=Av,s.stubString=bv,s.stubTrue=wv,s.multiply=Bv,s.nth=Yd,s.noConflict=dv,s.noop=ri,s.now=On,s.pad=Mg,s.padEnd=Pg,s.padStart=Dg,s.parseInt=$g,s.random=Eg,s.reduce=Vu,s.reduceRight=Qu,s.repeat=Ug,s.replace=Ng,s.result=mg,s.round=Mv,s.runInContext=A,s.sample=ry,s.size=oy,s.snakeCase=Gg,s.some=iy,s.sortedIndex=tu,s.sortedIndexBy=nu,s.sortedIndexOf=ou,s.sortedLastIndex=iu,s.sortedLastIndexBy=au,s.sortedLastIndexOf=fu,s.startCase=kg,s.startsWith=Hg,s.subtract=Pv,s.sum=Dv,s.sumBy=$v,s.template=zg,s.times=xv,s.toFinite=Er,s.toInteger=ne,s.toLength=If,s.toLower=Kg,s.toNumber=ar,s.toSafeInteger=Ky,s.toString=ye,s.toUpper=Zg,s.trim=Yg,s.trimEnd=Jg,s.trimStart=Xg,s.truncate=Vg,s.unescape=Qg,s.uniqueId=pv,s.upperCase=ev,s.upperFirst=Xo,s.each=hf,s.eachRight=_f,s.first=uf,ei(s,function(){var e={};return hr(s,function(r,t){ge.call(s.prototype,t)||(e[t]=r)}),e}(),{chain:!1}),s.VERSION=N,er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),er(["drop","take"],function(e,r){ce.prototype[e]=function(t){t=t===d?1:Oe(ne(t),0);var n=this.__filtered__&&!r?new ce(this):this.clone();return n.__filtered__?n.__takeCount__=We(t,n.__takeCount__):n.__views__.push({size:We(t,y),type:e+(n.__dir__<0?"Right":"")}),n},ce.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),er(["filter","map","takeWhile"],function(e,r){var t=r+1,n=t==Te||t==m;ce.prototype[e]=function(c){var l=this.clone();return l.__iteratees__.push({iteratee:z(c,3),type:t}),l.__filtered__=l.__filtered__||n,l}}),er(["head","last"],function(e,r){var t="take"+(r?"Right":"");ce.prototype[e]=function(){return this[t](1).value()[0]}}),er(["initial","tail"],function(e,r){var t="drop"+(r?"":"Right");ce.prototype[e]=function(){return this.__filtered__?new ce(this):this[t](1)}}),ce.prototype.compact=function(){return this.filter(qe)},ce.prototype.find=function(e){return this.filter(e).head()},ce.prototype.findLast=function(e){return this.reverse().find(e)},ce.prototype.invokeMap=ae(function(e,r){return typeof e=="function"?new ce(this):this.map(function(t){return jt(t,e,r)})}),ce.prototype.reject=function(e){return this.filter(En(z(e)))},ce.prototype.slice=function(e,r){e=ne(e);var t=this;return t.__filtered__&&(e>0||r<0)?new ce(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),r!==d&&(r=ne(r),t=r<0?t.dropRight(-r):t.take(r-e)),t)},ce.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ce.prototype.toArray=function(){return this.take(y)},hr(ce.prototype,function(e,r){var t=/^(?:filter|find|map|reject)|While$/.test(r),n=/^(?:head|last)$/.test(r),c=s[n?"take"+(r=="last"?"Right":""):r],l=n||/^find/.test(r);c&&(s.prototype[r]=function(){var v=this.__wrapped__,h=n?[1]:arguments,b=v instanceof ce,O=h[0],R=b||ee(v),E=function(fe){var de=c.apply(s,jr([fe],h));return n&&B?de[0]:de};R&&t&&typeof O=="function"&&O.length!=1&&(b=R=!1);var B=this.__chain__,G=!!this.__actions__.length,Z=l&&!B,oe=b&&!G;if(!l&&R){v=oe?v:new ce(this);var Y=e.apply(v,h);return Y.__actions__.push({func:pn,args:[E],thisArg:d}),new tr(Y,B)}return Z&&oe?e.apply(this,h):(Y=this.thru(E),Z?n?Y.value()[0]:Y.value():Y)})}),er(["pop","push","shift","sort","splice","unshift"],function(e){var r=Yt[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var c=arguments;if(n&&!this.__chain__){var l=this.value();return r.apply(ee(l)?l:[],c)}return this[t](function(v){return r.apply(ee(v)?v:[],c)})}}),hr(ce.prototype,function(e,r){var t=s[r];if(t){var n=t.name+"";ge.call(nt,n)||(nt[n]=[]),nt[n].push({name:r,func:t})}}),nt[_n(d,g).name]=[{name:"wrapper",func:d}],ce.prototype.clone=Qs,ce.prototype.reverse=el,ce.prototype.value=rl,s.prototype.at=Iu,s.prototype.chain=ju,s.prototype.commit=Tu,s.prototype.next=Wu,s.prototype.plant=Bu,s.prototype.reverse=Mu,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=Pu,s.prototype.first=s.prototype.head,pt&&(s.prototype[pt]=Fu),s},et=Ts();Ur?((Ur.exports=et)._=et,Vn._=et):Le._=et}).call(Zf)}(vt,vt.exports)),vt.exports}var ht=Yf();function sr(j){return j!=null}function ci(j,F){if(Array.isArray(j)||Array.isArray(F)){const d=ht.castArray(j).filter(sr),N=ht.castArray(F).filter(sr);return d.concat(N)}}const Fn={anchors:[{"actions-info":{tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"}}},{"actions-toggle":{tap_action:{action:"toggle"},icon_tap_action:{action:"toggle"},hold_action:{action:"more-info"}}},{tile:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom"}}],global:{minCardWidth:200,filter:{exclude:[{type:"disabled_by",comparator:"match",value:".*"},{type:"hidden_by",comparator:"match",value:".*"},{type:"label",config:{label:"hidden"},value:"hidden"}]},sort:[{type:"label",config:{label:"^sort_\\d+$"}},{type:"integration"},{type:"entity"}]},grids:[{id:"control_alarm",title:"Alarm",filter:{include:[{type:"domain",value:"alarm_control_panel"}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"},features:[{type:"alarm-modes",modes:["armed_home","armed_away","armed_night","armed_vacation","armed_custom_bypass","disarmed"]}]}},{id:"control_media",title:"Media",filter:{include:[{type:"domain",value:"media_player"}]},card:{tap_action:{action:"toggle"},icon_tap_action:{action:"toggle"},hold_action:{action:"more-info"},type:"custom:mushroom-media-player-card",entity:"$entity",use_media_artwork:!0,show_volume_level:!0,use_media_info:!1,collapsible_controls:!0,volume_controls:["volume_set"],media_controls:["play_pause_stop"]}},{id:"control_light",title:"Light",filter:{include:[{type:"domain",value:"light"}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"toggle"},icon_tap_action:{action:"toggle"},hold_action:{action:"more-info"},features:[{type:"light-brightness"},{type:"light-color-temp"}]}},{id:"control_fan",title:"Fan",filter:{include:[{type:"domain",value:"fan"}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"toggle"},icon_tap_action:{action:"toggle"},hold_action:{action:"more-info"},features:[{type:"fan-speed"},{type:"fan-preset-modes",style:"icons"}]}},{id:"control_humidifier",title:"Humidifier",filter:{include:[{type:"domain",value:"humidifier"}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"toggle"},icon_tap_action:{action:"toggle"},hold_action:{action:"more-info"},features:[{type:"target-humidity"},{type:"humidifier-toggle"}]}},{id:"control_cover",title:"Cover",filter:{include:[{type:"domain",value:"cover"}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"},features:[{type:"cover-open-close"}]}},{id:"control_vacuum",title:"Vacuum",filter:{include:[{type:"domain",value:"vacuum"}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"},features:[{type:"vacuum-commands",commands:["start_pause","return_home"]}]}},{id:"control_switch",title:"Switch",filter:{include:[{type:"domain",comparator:"in",value:["switch","input_boolean"]}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"toggle"},icon_tap_action:{action:"toggle"},hold_action:{action:"more-info"}}},{id:"control_select",title:"Select",filter:{include:[{type:"domain",comparator:"in",value:["select","input_select"]}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"},features:[{type:"select-options"}]}},{id:"control_button",title:"Button",filter:{include:[{type:"domain",comparator:"in",value:["button","scene"]}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"toggle"},icon_tap_action:{action:"toggle"},hold_action:{action:"more-info"}}},{id:"control_number",title:"Number",filter:{include:[{type:"domain",value:"number"}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"},features:[{type:"numeric-input",style:"slider"}]}},{id:"stats_alert",title:"Alert",filter:{include:[{type:"domain",value:"binary_sensor"}],exclude:[{type:"attribute",config:{key:"device_class"},comparator:"in",value:["motion","occupancy"]}]},card:{type:"tile",entity:"$entity",hide_state:!0,vertical:!1,features_position:"bottom",tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"}}},{id:"stats_sensor",title:"Sensor",filter:{include:[{type:"domain",value:"sensor"}],exclude:[{type:"attribute",config:{key:"device_class"},value:"battery"},{type:"state",comparator:"is_numeric"}]},card:{type:"tile",entity:"$entity",hide_state:!1,vertical:!1,features_position:"bottom",tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"}}},{id:"stats_graphs",title:"Graphs",filter:{include:[{type:"domain",value:"sensor"},{type:"state",comparator:"is_numeric"}],exclude:[{type:"attribute",config:{key:"device_class"},value:"battery"}]},card:{tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"},type:"custom:mini-graph-card",entities:["$entity"],align_header:"left",align_icon:"left",align_state:"center",font_size:50,font_size_header:12,card_mod:{style:`.header {
  max-width: 80%;
}
.line--rect,
.fill--rect,
.line--points {
  {% set COLOR = 'grey' %}
  {% if state_attr(config.entities[0],'device_class') in ['date', 'timestamp', 'irradiance', 'distance', 'duration', 'illuminance', 'enum', 'monetary'] %} 
    {% set COLOR = 'grey' %}
  {% elif state_attr(config.entities[0],'device_class') in ['apparent_power', 'battery', 'current', 'energy', 'energy_storage', 'power_factor', 'power', 'voltage'] %} 
    {% set COLOR = 'yellow' %}
  {% elif state_attr(config.entities[0],'device_class') in ['aqi', 'sulphur_dioxide', 'volatile_organic_compounds', 'volatile_organic_compounds_parts', 'atmospheric_pressure', 'carbon_dioxide', 'carbon_monoxide', 'nitrogen_dioxide', 'gas', 'nitrogen_monoxide', 'nitrous_oxide', 'ozone', 'pm1', 'pm10', 'pm25'] %} 
    {% set COLOR = 'green' %}
  {% elif state_attr(config.entities[0],'device_class') in ['pressure', 'reactive_power', 'speed', 'temperature', 'weight', 'wind_speed'] %} 
    {% set COLOR = 'orangered' %}
  {% elif state_attr(config.entities[0],'device_class') in ['moisture', 'ph', 'precipitation', 'precipitation_intensity', 'humidity', 'water', 'volume', 'volume_storage'] %} 
    {% set COLOR = 'royalblue' %}
  {% elif state_attr(config.entities[0],'device_class') in ['data_rate', 'data_size', 'signal_strength', 'frequency', 'sound_pressure'] %}
    {% set COLOR = 'orange' %}
  {% endif %}
  fill: {{COLOR}};
  stroke: {{COLOR}};
}`}}},{id:"camera_camera",filter:{include:[{type:"domain",value:"camera"}]},card:{tap_action:{action:"more-info"},icon_tap_action:{action:"more-info"},hold_action:{action:"more-info"},type:"picture-entity",entity:"$entity"}}],gridMergeStrategy:"add",navigation:{id:"area",minCardWidth:300,card:{type:"area",area:"$area",navigation_path:"$area#main",aspect_ratio:"35:15",alert_classes:["occupancy"],card_mod:{style:`{% set colors = [
  "rgba(42,72,100,0.3)",
  "rgba(234,162,33,0.3)",
  "rgba(214,64,92,0.3)",
  "rgba(190,70,178,0.3)",
  "rgba(145,142,80,0.3)",
  "rgba(12,162,121,0.3)",
  "rgba(76,159,171,0.3)",
  "rgba(147,72,26,0.3)",
] %} 
{% set color = colors[$index%(colors|length)] %}

{% if '$area' != '$currArea' %}
hui-image {
  opacity: 0.3;
}
div.navigate {
    background-color: {{color}};
}
{% endif %}
`}},filter:{exclude:[{type:"label",config:{label:"hidden"},value:"hidden"}]},sort:[{type:"label",config:{label:"^sort_\\d+$"}},{type:"floor"},{type:"area"}]},main:[{title:"Control",icon:"mdi:button-pointer",match:"^control_.*$"},{title:"Stats",icon:"mdi:chart-line",match:"^stats_.*$"},{title:"Camera",icon:"mdi:camera",match:"^camera_.*$"}]},si=(...j)=>{const F=j==null?void 0:j.filter(sr),d=F.filter(sr).reduce((D,$)=>({...D,...$}));if(d.global=F.map(D=>D.global).filter(sr).reduce((D,$)=>({...D,...$})),!(()=>{const D=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),$=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),J=g=>(g.global===void 0||typeof g.global=="object"&&g.global!==null&&Array.isArray(g.global)===!1&&W(g.global))&&(g.gridMergeStrategy==="add"||g.gridMergeStrategy==="reset"),W=g=>(g.id===void 0||typeof g.id=="string")&&(g.title===void 0||typeof g.title=="string")&&(g.position===void 0||typeof g.position=="number")&&(g.minCardWidth===void 0||typeof g.minCardWidth=="number")&&(g.replace===void 0||typeof g.replace=="object"&&g.replace!==null&&Array.isArray(g.replace)===!1&&U(g.replace))&&(g.filter===void 0||typeof g.filter=="object"&&g.filter!==null&&Array.isArray(g.filter)===!1&&te(g.filter))&&(g.sort===void 0||Array.isArray(g.sort)&&g.sort.every(i=>typeof i=="object"&&i!==null&&Q(i)))&&(g.card===void 0||typeof g.card=="object"&&g.card!==null&&Array.isArray(g.card)===!1&&X(g.card)),U=g=>Object.keys(g).every(i=>{const w=g[i];return w===void 0?!0:typeof w=="object"&&w!==null&&H(w)}),H=g=>typeof g.card=="object"&&g.card!==null&&K(g.card),K=g=>(g.index===void 0||typeof g.index=="number")&&(g.view_index===void 0||typeof g.view_index=="number")&&typeof g.type=="string"&&Object.keys(g).every(i=>(["index","view_index","type"].some(I=>i===I)||g[i]===void 0,!0)),te=g=>(g.exclude===void 0||Array.isArray(g.exclude)&&g.exclude.every(i=>typeof i=="object"&&i!==null&&ie(i)))&&(g.include===void 0||Array.isArray(g.include)&&g.include.every(i=>typeof i=="object"&&i!==null&&ie(i))),ie=g=>(g.comparator===void 0||g.comparator==="equal"||g.comparator==="match"||g.comparator==="in"||g.comparator==="greater_than"||g.comparator==="lower_than"||g.comparator==="is_null"||g.comparator==="is_numeric")&&!0&&D.has(g.type)===!0&&(g.config===void 0||typeof g.config=="object"&&g.config!==null&&Array.isArray(g.config)===!1&&re(g.config)),re=g=>(g.key===void 0||typeof g.key=="string")&&(g.label===void 0||typeof g.label=="string"),Q=g=>(g.comparator===void 0||g.comparator==="ascending"||g.comparator==="descending")&&$.has(g.type)===!0&&(g.config===void 0||typeof g.config=="object"&&g.config!==null&&Array.isArray(g.config)===!1&&re(g.config)),X=g=>(g.index===void 0||typeof g.index=="number")&&(g.view_index===void 0||typeof g.view_index=="number")&&(g.type===void 0||typeof g.type=="string")&&Object.keys(g).every(i=>(["index","view_index","type"].some(I=>i===I)||g[i]===void 0,!0));return g=>typeof g=="object"&&g!==null&&J(g)})()(d)){const D=(()=>{const $=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),J=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),W=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),U=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),H=o=>(o.global===void 0||typeof o.global=="object"&&o.global!==null&&Array.isArray(o.global)===!1&&K(o.global))&&Array.isArray(o.grids)&&o.grids.every(_=>typeof _=="object"&&_!==null&&se(_))&&(o.gridMergeStrategy==="add"||o.gridMergeStrategy==="reset"),K=o=>(o.id===void 0||typeof o.id=="string")&&(o.title===void 0||typeof o.title=="string")&&(o.position===void 0||typeof o.position=="number")&&(o.minCardWidth===void 0||typeof o.minCardWidth=="number")&&(o.replace===void 0||typeof o.replace=="object"&&o.replace!==null&&Array.isArray(o.replace)===!1&&te(o.replace))&&(o.filter===void 0||typeof o.filter=="object"&&o.filter!==null&&Array.isArray(o.filter)===!1&&Q(o.filter))&&(o.sort===void 0||Array.isArray(o.sort)&&o.sort.every(_=>typeof _=="object"&&_!==null&&i(_)))&&(o.card===void 0||typeof o.card=="object"&&o.card!==null&&Array.isArray(o.card)===!1&&w(o.card)),te=o=>Object.keys(o).every(_=>{const p=o[_];return p===void 0?!0:typeof p=="object"&&p!==null&&ie(p)}),ie=o=>typeof o.card=="object"&&o.card!==null&&re(o.card),re=o=>(o.index===void 0||typeof o.index=="number")&&(o.view_index===void 0||typeof o.view_index=="number")&&typeof o.type=="string"&&Object.keys(o).every(_=>(["index","view_index","type"].some(L=>_===L)||o[_]===void 0,!0)),Q=o=>(o.exclude===void 0||Array.isArray(o.exclude)&&o.exclude.every(_=>typeof _=="object"&&_!==null&&X(_)))&&(o.include===void 0||Array.isArray(o.include)&&o.include.every(_=>typeof _=="object"&&_!==null&&X(_))),X=o=>(o.comparator===void 0||o.comparator==="equal"||o.comparator==="match"||o.comparator==="in"||o.comparator==="greater_than"||o.comparator==="lower_than"||o.comparator==="is_null"||o.comparator==="is_numeric")&&!0&&$.has(o.type)===!0&&(o.config===void 0||typeof o.config=="object"&&o.config!==null&&Array.isArray(o.config)===!1&&g(o.config)),g=o=>(o.key===void 0||typeof o.key=="string")&&(o.label===void 0||typeof o.label=="string"),i=o=>(o.comparator===void 0||o.comparator==="ascending"||o.comparator==="descending")&&J.has(o.type)===!0&&(o.config===void 0||typeof o.config=="object"&&o.config!==null&&Array.isArray(o.config)===!1&&g(o.config)),w=o=>(o.index===void 0||typeof o.index=="number")&&(o.view_index===void 0||typeof o.view_index=="number")&&(o.type===void 0||typeof o.type=="string")&&Object.keys(o).every(_=>(["index","view_index","type"].some(L=>_===L)||o[_]===void 0,!0)),I=o=>typeof o.id=="string"&&(o.title===void 0||typeof o.title=="string")&&(o.position===void 0||typeof o.position=="number")&&typeof o.minCardWidth=="number"&&(o.replace===void 0||typeof o.replace=="object"&&o.replace!==null&&Array.isArray(o.replace)===!1&&te(o.replace))&&(o.filter===void 0||typeof o.filter=="object"&&o.filter!==null&&Array.isArray(o.filter)===!1&&Q(o.filter))&&(o.sort===void 0||Array.isArray(o.sort)&&o.sort.every(_=>typeof _=="object"&&_!==null&&i(_)))&&typeof o.card=="object"&&o.card!==null&&re(o.card),M=o=>typeof o.gridId=="string"&&(o.id===void 0||typeof o.id=="string")&&(o.title===void 0||typeof o.title=="string")&&(o.position===void 0||typeof o.position=="number")&&(o.minCardWidth===void 0||typeof o.minCardWidth=="number")&&(o.replace===void 0||typeof o.replace=="object"&&o.replace!==null&&Array.isArray(o.replace)===!1&&te(o.replace))&&(o.filter===void 0||typeof o.filter=="object"&&o.filter!==null&&Array.isArray(o.filter)===!1&&Q(o.filter))&&(o.sort===void 0||Array.isArray(o.sort)&&o.sort.every(_=>typeof _=="object"&&_!==null&&i(_)))&&(o.card===void 0||typeof o.card=="object"&&o.card!==null&&Array.isArray(o.card)===!1&&w(o.card)),se=o=>o.gridId!==void 0?M(o):I(o),pe=(o,_,p=!0)=>[o.global===void 0||(typeof o.global=="object"&&o.global!==null&&Array.isArray(o.global)===!1||u(p,{path:_+".global",expected:"(DeepPartial<BaseRowOptions> | undefined)",value:o.global}))&&Ee(o.global,_+".global",p)||u(p,{path:_+".global",expected:"(DeepPartial<BaseRowOptions> | undefined)",value:o.global}),(Array.isArray(o.grids)||u(p,{path:_+".grids",expected:"Array<BaseRowOptions | BaseRowRefOptions>",value:o.grids}))&&o.grids.map((L,le)=>(typeof L=="object"&&L!==null||u(p,{path:_+".grids["+le+"]",expected:"(BaseRowOptions | BaseRowRefOptions)",value:L}))&&f(L,_+".grids["+le+"]",p)||u(p,{path:_+".grids["+le+"]",expected:"(BaseRowOptions | BaseRowRefOptions)",value:L})).every(L=>L)||u(p,{path:_+".grids",expected:"Array<BaseRowOptions | BaseRowRefOptions>",value:o.grids}),o.gridMergeStrategy==="add"||o.gridMergeStrategy==="reset"||u(p,{path:_+".gridMergeStrategy",expected:'("add" | "reset")',value:o.gridMergeStrategy})].every(L=>L),Ee=(o,_,p=!0)=>[o.id===void 0||typeof o.id=="string"||u(p,{path:_+".id",expected:"(string | undefined)",value:o.id}),o.title===void 0||typeof o.title=="string"||u(p,{path:_+".title",expected:"(string | undefined)",value:o.title}),o.position===void 0||typeof o.position=="number"||u(p,{path:_+".position",expected:"(number | undefined)",value:o.position}),o.minCardWidth===void 0||typeof o.minCardWidth=="number"||u(p,{path:_+".minCardWidth",expected:"(number | undefined)",value:o.minCardWidth}),o.replace===void 0||(typeof o.replace=="object"&&o.replace!==null&&Array.isArray(o.replace)===!1||u(p,{path:_+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:o.replace}))&&be(o.replace,_+".replace",p)||u(p,{path:_+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:o.replace}),o.filter===void 0||(typeof o.filter=="object"&&o.filter!==null&&Array.isArray(o.filter)===!1||u(p,{path:_+".filter",expected:"(FilterObject | undefined)",value:o.filter}))&&Be(o.filter,_+".filter",p)||u(p,{path:_+".filter",expected:"(FilterObject | undefined)",value:o.filter}),o.sort===void 0||(Array.isArray(o.sort)||u(p,{path:_+".sort",expected:"(Array<SortConfig> | undefined)",value:o.sort}))&&o.sort.map((L,le)=>(typeof L=="object"&&L!==null||u(p,{path:_+".sort["+le+"]",expected:"SortConfig",value:L}))&&k(L,_+".sort["+le+"]",p)||u(p,{path:_+".sort["+le+"]",expected:"SortConfig",value:L})).every(L=>L)||u(p,{path:_+".sort",expected:"(Array<SortConfig> | undefined)",value:o.sort}),o.card===void 0||(typeof o.card=="object"&&o.card!==null&&Array.isArray(o.card)===!1||u(p,{path:_+".card",expected:"(DeepPartial<LovelaceCardConfig> | undefined)",value:o.card}))&&m(o.card,_+".card",p)||u(p,{path:_+".card",expected:"(DeepPartial<LovelaceCardConfig> | undefined)",value:o.card})].every(L=>L),be=(o,_,p=!0)=>[p===!1||Object.keys(o).map(L=>{const le=o[L];return le===void 0?!0:(typeof le=="object"&&le!==null||u(p,{path:_+Ve._accessExpressionAsString(L),expected:"GridStrategyCardConfig",value:le}))&&ke(le,_+Ve._accessExpressionAsString(L),p)||u(p,{path:_+Ve._accessExpressionAsString(L),expected:"GridStrategyCardConfig",value:le})}).every(L=>L)].every(L=>L),ke=(o,_,p=!0)=>[(typeof o.card=="object"&&o.card!==null||u(p,{path:_+".card",expected:"LovelaceCardConfig",value:o.card}))&&je(o.card,_+".card",p)||u(p,{path:_+".card",expected:"LovelaceCardConfig",value:o.card})].every(L=>L),je=(o,_,p=!0)=>[o.index===void 0||typeof o.index=="number"||u(p,{path:_+".index",expected:"(number | undefined)",value:o.index}),o.view_index===void 0||typeof o.view_index=="number"||u(p,{path:_+".view_index",expected:"(number | undefined)",value:o.view_index}),typeof o.type=="string"||u(p,{path:_+".type",expected:"string",value:o.type}),p===!1||Object.keys(o).map(L=>(["index","view_index","type"].some(Ar=>L===Ar)||o[L]===void 0,!0)).every(L=>L)].every(L=>L),Be=(o,_,p=!0)=>[o.exclude===void 0||(Array.isArray(o.exclude)||u(p,{path:_+".exclude",expected:"(Array<FilterConfig> | undefined)",value:o.exclude}))&&o.exclude.map((L,le)=>(typeof L=="object"&&L!==null||u(p,{path:_+".exclude["+le+"]",expected:"FilterConfig",value:L}))&&He(L,_+".exclude["+le+"]",p)||u(p,{path:_+".exclude["+le+"]",expected:"FilterConfig",value:L})).every(L=>L)||u(p,{path:_+".exclude",expected:"(Array<FilterConfig> | undefined)",value:o.exclude}),o.include===void 0||(Array.isArray(o.include)||u(p,{path:_+".include",expected:"(Array<FilterConfig> | undefined)",value:o.include}))&&o.include.map((L,le)=>(typeof L=="object"&&L!==null||u(p,{path:_+".include["+le+"]",expected:"FilterConfig",value:L}))&&He(L,_+".include["+le+"]",p)||u(p,{path:_+".include["+le+"]",expected:"FilterConfig",value:L})).every(L=>L)||u(p,{path:_+".include",expected:"(Array<FilterConfig> | undefined)",value:o.include})].every(L=>L),He=(o,_,p=!0)=>[o.comparator===void 0||o.comparator==="equal"||o.comparator==="match"||o.comparator==="in"||o.comparator==="greater_than"||o.comparator==="lower_than"||o.comparator==="is_null"||o.comparator==="is_numeric"||u(p,{path:_+".comparator",expected:'("equal" | "greater_than" | "in" | "is_null" | "is_numeric" | "lower_than" | "match" | undefined)',value:o.comparator}),!0,W.has(o.type)===!0||u(p,{path:_+".type",expected:'("area" | "attribute" | "device" | "disabled_by" | "domain" | "entity" | "entity_category" | "floor" | "hidden_by" | "integration" | "label" | "state")',value:o.type}),o.config===void 0||(typeof o.config=="object"&&o.config!==null&&Array.isArray(o.config)===!1||u(p,{path:_+".config",expected:"(TypeConfig | undefined)",value:o.config}))&&Te(o.config,_+".config",p)||u(p,{path:_+".config",expected:"(TypeConfig | undefined)",value:o.config})].every(L=>L),Te=(o,_,p=!0)=>[o.key===void 0||typeof o.key=="string"||u(p,{path:_+".key",expected:"(string | undefined)",value:o.key}),o.label===void 0||typeof o.label=="string"||u(p,{path:_+".label",expected:"(string | undefined)",value:o.label})].every(L=>L),k=(o,_,p=!0)=>[o.comparator===void 0||o.comparator==="ascending"||o.comparator==="descending"||u(p,{path:_+".comparator",expected:'("ascending" | "descending" | undefined)',value:o.comparator}),U.has(o.type)===!0||u(p,{path:_+".type",expected:'("area" | "attribute" | "device" | "disabled_by" | "domain" | "entity" | "entity_category" | "floor" | "hidden_by" | "integration" | "label" | "state")',value:o.type}),o.config===void 0||(typeof o.config=="object"&&o.config!==null&&Array.isArray(o.config)===!1||u(p,{path:_+".config",expected:"(TypeConfig | undefined)",value:o.config}))&&Te(o.config,_+".config",p)||u(p,{path:_+".config",expected:"(TypeConfig | undefined)",value:o.config})].every(L=>L),m=(o,_,p=!0)=>[o.index===void 0||typeof o.index=="number"||u(p,{path:_+".index",expected:"(number | undefined)",value:o.index}),o.view_index===void 0||typeof o.view_index=="number"||u(p,{path:_+".view_index",expected:"(number | undefined)",value:o.view_index}),o.type===void 0||typeof o.type=="string"||u(p,{path:_+".type",expected:"(string | undefined)",value:o.type}),p===!1||Object.keys(o).map(L=>(["index","view_index","type"].some(Ar=>L===Ar)||o[L]===void 0,!0)).every(L=>L)].every(L=>L),T=(o,_,p=!0)=>[typeof o.id=="string"||u(p,{path:_+".id",expected:"string",value:o.id}),o.title===void 0||typeof o.title=="string"||u(p,{path:_+".title",expected:"(string | undefined)",value:o.title}),o.position===void 0||typeof o.position=="number"||u(p,{path:_+".position",expected:"(number | undefined)",value:o.position}),typeof o.minCardWidth=="number"||u(p,{path:_+".minCardWidth",expected:"number",value:o.minCardWidth}),o.replace===void 0||(typeof o.replace=="object"&&o.replace!==null&&Array.isArray(o.replace)===!1||u(p,{path:_+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:o.replace}))&&be(o.replace,_+".replace",p)||u(p,{path:_+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:o.replace}),o.filter===void 0||(typeof o.filter=="object"&&o.filter!==null&&Array.isArray(o.filter)===!1||u(p,{path:_+".filter",expected:"(FilterObject | undefined)",value:o.filter}))&&Be(o.filter,_+".filter",p)||u(p,{path:_+".filter",expected:"(FilterObject | undefined)",value:o.filter}),o.sort===void 0||(Array.isArray(o.sort)||u(p,{path:_+".sort",expected:"(Array<SortConfig> | undefined)",value:o.sort}))&&o.sort.map((L,le)=>(typeof L=="object"&&L!==null||u(p,{path:_+".sort["+le+"]",expected:"SortConfig",value:L}))&&k(L,_+".sort["+le+"]",p)||u(p,{path:_+".sort["+le+"]",expected:"SortConfig",value:L})).every(L=>L)||u(p,{path:_+".sort",expected:"(Array<SortConfig> | undefined)",value:o.sort}),(typeof o.card=="object"&&o.card!==null||u(p,{path:_+".card",expected:"LovelaceCardConfig",value:o.card}))&&je(o.card,_+".card",p)||u(p,{path:_+".card",expected:"LovelaceCardConfig",value:o.card})].every(L=>L),x=(o,_,p=!0)=>[typeof o.gridId=="string"||u(p,{path:_+".gridId",expected:"string",value:o.gridId}),o.id===void 0||typeof o.id=="string"||u(p,{path:_+".id",expected:"(string | undefined)",value:o.id}),o.title===void 0||typeof o.title=="string"||u(p,{path:_+".title",expected:"(string | undefined)",value:o.title}),o.position===void 0||typeof o.position=="number"||u(p,{path:_+".position",expected:"(number | undefined)",value:o.position}),o.minCardWidth===void 0||typeof o.minCardWidth=="number"||u(p,{path:_+".minCardWidth",expected:"(number | undefined)",value:o.minCardWidth}),o.replace===void 0||(typeof o.replace=="object"&&o.replace!==null&&Array.isArray(o.replace)===!1||u(p,{path:_+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:o.replace}))&&be(o.replace,_+".replace",p)||u(p,{path:_+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:o.replace}),o.filter===void 0||(typeof o.filter=="object"&&o.filter!==null&&Array.isArray(o.filter)===!1||u(p,{path:_+".filter",expected:"(FilterObject | undefined)",value:o.filter}))&&Be(o.filter,_+".filter",p)||u(p,{path:_+".filter",expected:"(FilterObject | undefined)",value:o.filter}),o.sort===void 0||(Array.isArray(o.sort)||u(p,{path:_+".sort",expected:"(Array<SortConfig> | undefined)",value:o.sort}))&&o.sort.map((L,le)=>(typeof L=="object"&&L!==null||u(p,{path:_+".sort["+le+"]",expected:"SortConfig",value:L}))&&k(L,_+".sort["+le+"]",p)||u(p,{path:_+".sort["+le+"]",expected:"SortConfig",value:L})).every(L=>L)||u(p,{path:_+".sort",expected:"(Array<SortConfig> | undefined)",value:o.sort}),o.card===void 0||(typeof o.card=="object"&&o.card!==null&&Array.isArray(o.card)===!1||u(p,{path:_+".card",expected:"(DeepPartial<LovelaceCardConfig> | undefined)",value:o.card}))&&m(o.card,_+".card",p)||u(p,{path:_+".card",expected:"(DeepPartial<LovelaceCardConfig> | undefined)",value:o.card})].every(L=>L),f=(o,_,p=!0)=>o.gridId!==void 0?x(o,_,p):T(o,_,p),a=o=>typeof o=="object"&&o!==null&&H(o);let y,u;return o=>{if(a(o)===!1){y=[],u=ut._validateReport(y),((p,L,le=!0)=>(typeof p=="object"&&p!==null||u(!0,{path:L+"",expected:"BaseGridOptions<BaseRowOptions | BaseRowRefOptions>",value:p}))&&pe(p,L+"",!0)||u(!0,{path:L+"",expected:"BaseGridOptions<BaseRowOptions | BaseRowRefOptions>",value:p}))(o,"$input",!0);const _=y.length===0;return _?{success:_,data:o}:{success:_,errors:y,data:o}}return{success:!0,data:o}}})()(d);throw Error(D.success?"Something went wrong. Check config.":JSON.stringify(D.errors))}const q=(d.gridMergeStrategy==ai.reset?F.map(D=>D.grids).filter(sr).slice(-1)[0]:F.flatMap(D=>D.grids).filter(sr)).reduce((D,$)=>{if((()=>{const J=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),W=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),U=i=>typeof i.gridId=="string"&&(i.id===void 0||typeof i.id=="string")&&(i.title===void 0||typeof i.title=="string")&&(i.position===void 0||typeof i.position=="number")&&(i.minCardWidth===void 0||typeof i.minCardWidth=="number")&&(i.replace===void 0||typeof i.replace=="object"&&i.replace!==null&&Array.isArray(i.replace)===!1&&H(i.replace))&&(i.filter===void 0||typeof i.filter=="object"&&i.filter!==null&&Array.isArray(i.filter)===!1&&ie(i.filter))&&(i.sort===void 0||Array.isArray(i.sort)&&i.sort.every(w=>typeof w=="object"&&w!==null&&X(w)))&&(i.card===void 0||typeof i.card=="object"&&i.card!==null&&Array.isArray(i.card)===!1&&g(i.card)),H=i=>Object.keys(i).every(w=>{const I=i[w];return I===void 0?!0:typeof I=="object"&&I!==null&&K(I)}),K=i=>typeof i.card=="object"&&i.card!==null&&te(i.card),te=i=>(i.index===void 0||typeof i.index=="number")&&(i.view_index===void 0||typeof i.view_index=="number")&&typeof i.type=="string"&&Object.keys(i).every(w=>(["index","view_index","type"].some(M=>w===M)||i[w]===void 0,!0)),ie=i=>(i.exclude===void 0||Array.isArray(i.exclude)&&i.exclude.every(w=>typeof w=="object"&&w!==null&&re(w)))&&(i.include===void 0||Array.isArray(i.include)&&i.include.every(w=>typeof w=="object"&&w!==null&&re(w))),re=i=>(i.comparator===void 0||i.comparator==="equal"||i.comparator==="match"||i.comparator==="in"||i.comparator==="greater_than"||i.comparator==="lower_than"||i.comparator==="is_null"||i.comparator==="is_numeric")&&!0&&J.has(i.type)===!0&&(i.config===void 0||typeof i.config=="object"&&i.config!==null&&Array.isArray(i.config)===!1&&Q(i.config)),Q=i=>(i.key===void 0||typeof i.key=="string")&&(i.label===void 0||typeof i.label=="string"),X=i=>(i.comparator===void 0||i.comparator==="ascending"||i.comparator==="descending")&&W.has(i.type)===!0&&(i.config===void 0||typeof i.config=="object"&&i.config!==null&&Array.isArray(i.config)===!1&&Q(i.config)),g=i=>(i.index===void 0||typeof i.index=="number")&&(i.view_index===void 0||typeof i.view_index=="number")&&(i.type===void 0||typeof i.type=="string")&&Object.keys(i).every(w=>(["index","view_index","type"].some(M=>w===M)||i[w]===void 0,!0));return i=>typeof i=="object"&&i!==null&&U(i)})()($))if(D[$.gridId])D[$.gridId]={...D[$.gridId],...$};else throw Error(`gridId '${$.gridId}' not defined`);else{const J=ht.mergeWith({},d.global,$,ci);if(!(()=>{const W=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),U=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),H=i=>typeof i.id=="string"&&(i.title===void 0||typeof i.title=="string")&&(i.position===void 0||typeof i.position=="number")&&typeof i.minCardWidth=="number"&&(i.replace===void 0||typeof i.replace=="object"&&i.replace!==null&&Array.isArray(i.replace)===!1&&K(i.replace))&&(i.filter===void 0||typeof i.filter=="object"&&i.filter!==null&&Array.isArray(i.filter)===!1&&re(i.filter))&&(i.sort===void 0||Array.isArray(i.sort)&&i.sort.every(w=>typeof w=="object"&&w!==null&&g(w)))&&typeof i.card=="object"&&i.card!==null&&ie(i.card),K=i=>Object.keys(i).every(w=>{const I=i[w];return I===void 0?!0:typeof I=="object"&&I!==null&&te(I)}),te=i=>typeof i.card=="object"&&i.card!==null&&ie(i.card),ie=i=>(i.index===void 0||typeof i.index=="number")&&(i.view_index===void 0||typeof i.view_index=="number")&&typeof i.type=="string"&&Object.keys(i).every(w=>(["index","view_index","type"].some(M=>w===M)||i[w]===void 0,!0)),re=i=>(i.exclude===void 0||Array.isArray(i.exclude)&&i.exclude.every(w=>typeof w=="object"&&w!==null&&Q(w)))&&(i.include===void 0||Array.isArray(i.include)&&i.include.every(w=>typeof w=="object"&&w!==null&&Q(w))),Q=i=>(i.comparator===void 0||i.comparator==="equal"||i.comparator==="match"||i.comparator==="in"||i.comparator==="greater_than"||i.comparator==="lower_than"||i.comparator==="is_null"||i.comparator==="is_numeric")&&!0&&W.has(i.type)===!0&&(i.config===void 0||typeof i.config=="object"&&i.config!==null&&Array.isArray(i.config)===!1&&X(i.config)),X=i=>(i.key===void 0||typeof i.key=="string")&&(i.label===void 0||typeof i.label=="string"),g=i=>(i.comparator===void 0||i.comparator==="ascending"||i.comparator==="descending")&&U.has(i.type)===!0&&(i.config===void 0||typeof i.config=="object"&&i.config!==null&&Array.isArray(i.config)===!1&&X(i.config));return i=>typeof i=="object"&&i!==null&&H(i)})()(J)){const W=(()=>{const U=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),H=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),K=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),te=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),ie=m=>typeof m.id=="string"&&(m.title===void 0||typeof m.title=="string")&&(m.position===void 0||typeof m.position=="number")&&typeof m.minCardWidth=="number"&&(m.replace===void 0||typeof m.replace=="object"&&m.replace!==null&&Array.isArray(m.replace)===!1&&re(m.replace))&&(m.filter===void 0||typeof m.filter=="object"&&m.filter!==null&&Array.isArray(m.filter)===!1&&g(m.filter))&&(m.sort===void 0||Array.isArray(m.sort)&&m.sort.every(T=>typeof T=="object"&&T!==null&&I(T)))&&typeof m.card=="object"&&m.card!==null&&X(m.card),re=m=>Object.keys(m).every(T=>{const x=m[T];return x===void 0?!0:typeof x=="object"&&x!==null&&Q(x)}),Q=m=>typeof m.card=="object"&&m.card!==null&&X(m.card),X=m=>(m.index===void 0||typeof m.index=="number")&&(m.view_index===void 0||typeof m.view_index=="number")&&typeof m.type=="string"&&Object.keys(m).every(T=>(["index","view_index","type"].some(f=>T===f)||m[T]===void 0,!0)),g=m=>(m.exclude===void 0||Array.isArray(m.exclude)&&m.exclude.every(T=>typeof T=="object"&&T!==null&&i(T)))&&(m.include===void 0||Array.isArray(m.include)&&m.include.every(T=>typeof T=="object"&&T!==null&&i(T))),i=m=>(m.comparator===void 0||m.comparator==="equal"||m.comparator==="match"||m.comparator==="in"||m.comparator==="greater_than"||m.comparator==="lower_than"||m.comparator==="is_null"||m.comparator==="is_numeric")&&!0&&U.has(m.type)===!0&&(m.config===void 0||typeof m.config=="object"&&m.config!==null&&Array.isArray(m.config)===!1&&w(m.config)),w=m=>(m.key===void 0||typeof m.key=="string")&&(m.label===void 0||typeof m.label=="string"),I=m=>(m.comparator===void 0||m.comparator==="ascending"||m.comparator==="descending")&&H.has(m.type)===!0&&(m.config===void 0||typeof m.config=="object"&&m.config!==null&&Array.isArray(m.config)===!1&&w(m.config)),M=(m,T,x=!0)=>[typeof m.id=="string"||k(x,{path:T+".id",expected:"string",value:m.id}),m.title===void 0||typeof m.title=="string"||k(x,{path:T+".title",expected:"(string | undefined)",value:m.title}),m.position===void 0||typeof m.position=="number"||k(x,{path:T+".position",expected:"(number | undefined)",value:m.position}),typeof m.minCardWidth=="number"||k(x,{path:T+".minCardWidth",expected:"number",value:m.minCardWidth}),m.replace===void 0||(typeof m.replace=="object"&&m.replace!==null&&Array.isArray(m.replace)===!1||k(x,{path:T+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:m.replace}))&&se(m.replace,T+".replace",x)||k(x,{path:T+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:m.replace}),m.filter===void 0||(typeof m.filter=="object"&&m.filter!==null&&Array.isArray(m.filter)===!1||k(x,{path:T+".filter",expected:"(FilterObject | undefined)",value:m.filter}))&&be(m.filter,T+".filter",x)||k(x,{path:T+".filter",expected:"(FilterObject | undefined)",value:m.filter}),m.sort===void 0||(Array.isArray(m.sort)||k(x,{path:T+".sort",expected:"(Array<SortConfig> | undefined)",value:m.sort}))&&m.sort.map((f,a)=>(typeof f=="object"&&f!==null||k(x,{path:T+".sort["+a+"]",expected:"SortConfig",value:f}))&&Be(f,T+".sort["+a+"]",x)||k(x,{path:T+".sort["+a+"]",expected:"SortConfig",value:f})).every(f=>f)||k(x,{path:T+".sort",expected:"(Array<SortConfig> | undefined)",value:m.sort}),(typeof m.card=="object"&&m.card!==null||k(x,{path:T+".card",expected:"LovelaceCardConfig",value:m.card}))&&Ee(m.card,T+".card",x)||k(x,{path:T+".card",expected:"LovelaceCardConfig",value:m.card})].every(f=>f),se=(m,T,x=!0)=>[x===!1||Object.keys(m).map(f=>{const a=m[f];return a===void 0?!0:(typeof a=="object"&&a!==null||k(x,{path:T+Ve._accessExpressionAsString(f),expected:"GridStrategyCardConfig",value:a}))&&pe(a,T+Ve._accessExpressionAsString(f),x)||k(x,{path:T+Ve._accessExpressionAsString(f),expected:"GridStrategyCardConfig",value:a})}).every(f=>f)].every(f=>f),pe=(m,T,x=!0)=>[(typeof m.card=="object"&&m.card!==null||k(x,{path:T+".card",expected:"LovelaceCardConfig",value:m.card}))&&Ee(m.card,T+".card",x)||k(x,{path:T+".card",expected:"LovelaceCardConfig",value:m.card})].every(f=>f),Ee=(m,T,x=!0)=>[m.index===void 0||typeof m.index=="number"||k(x,{path:T+".index",expected:"(number | undefined)",value:m.index}),m.view_index===void 0||typeof m.view_index=="number"||k(x,{path:T+".view_index",expected:"(number | undefined)",value:m.view_index}),typeof m.type=="string"||k(x,{path:T+".type",expected:"string",value:m.type}),x===!1||Object.keys(m).map(f=>(["index","view_index","type"].some(y=>f===y)||m[f]===void 0,!0)).every(f=>f)].every(f=>f),be=(m,T,x=!0)=>[m.exclude===void 0||(Array.isArray(m.exclude)||k(x,{path:T+".exclude",expected:"(Array<FilterConfig> | undefined)",value:m.exclude}))&&m.exclude.map((f,a)=>(typeof f=="object"&&f!==null||k(x,{path:T+".exclude["+a+"]",expected:"FilterConfig",value:f}))&&ke(f,T+".exclude["+a+"]",x)||k(x,{path:T+".exclude["+a+"]",expected:"FilterConfig",value:f})).every(f=>f)||k(x,{path:T+".exclude",expected:"(Array<FilterConfig> | undefined)",value:m.exclude}),m.include===void 0||(Array.isArray(m.include)||k(x,{path:T+".include",expected:"(Array<FilterConfig> | undefined)",value:m.include}))&&m.include.map((f,a)=>(typeof f=="object"&&f!==null||k(x,{path:T+".include["+a+"]",expected:"FilterConfig",value:f}))&&ke(f,T+".include["+a+"]",x)||k(x,{path:T+".include["+a+"]",expected:"FilterConfig",value:f})).every(f=>f)||k(x,{path:T+".include",expected:"(Array<FilterConfig> | undefined)",value:m.include})].every(f=>f),ke=(m,T,x=!0)=>[m.comparator===void 0||m.comparator==="equal"||m.comparator==="match"||m.comparator==="in"||m.comparator==="greater_than"||m.comparator==="lower_than"||m.comparator==="is_null"||m.comparator==="is_numeric"||k(x,{path:T+".comparator",expected:'("equal" | "greater_than" | "in" | "is_null" | "is_numeric" | "lower_than" | "match" | undefined)',value:m.comparator}),!0,K.has(m.type)===!0||k(x,{path:T+".type",expected:'("area" | "attribute" | "device" | "disabled_by" | "domain" | "entity" | "entity_category" | "floor" | "hidden_by" | "integration" | "label" | "state")',value:m.type}),m.config===void 0||(typeof m.config=="object"&&m.config!==null&&Array.isArray(m.config)===!1||k(x,{path:T+".config",expected:"(TypeConfig | undefined)",value:m.config}))&&je(m.config,T+".config",x)||k(x,{path:T+".config",expected:"(TypeConfig | undefined)",value:m.config})].every(f=>f),je=(m,T,x=!0)=>[m.key===void 0||typeof m.key=="string"||k(x,{path:T+".key",expected:"(string | undefined)",value:m.key}),m.label===void 0||typeof m.label=="string"||k(x,{path:T+".label",expected:"(string | undefined)",value:m.label})].every(f=>f),Be=(m,T,x=!0)=>[m.comparator===void 0||m.comparator==="ascending"||m.comparator==="descending"||k(x,{path:T+".comparator",expected:'("ascending" | "descending" | undefined)',value:m.comparator}),te.has(m.type)===!0||k(x,{path:T+".type",expected:'("area" | "attribute" | "device" | "disabled_by" | "domain" | "entity" | "entity_category" | "floor" | "hidden_by" | "integration" | "label" | "state")',value:m.type}),m.config===void 0||(typeof m.config=="object"&&m.config!==null&&Array.isArray(m.config)===!1||k(x,{path:T+".config",expected:"(TypeConfig | undefined)",value:m.config}))&&je(m.config,T+".config",x)||k(x,{path:T+".config",expected:"(TypeConfig | undefined)",value:m.config})].every(f=>f),He=m=>typeof m=="object"&&m!==null&&ie(m);let Te,k;return m=>{if(He(m)===!1){Te=[],k=ut._validateReport(Te),((x,f,a=!0)=>(typeof x=="object"&&x!==null||k(!0,{path:f+"",expected:"BaseRowOptions",value:x}))&&M(x,f+"",!0)||k(!0,{path:f+"",expected:"BaseRowOptions",value:x}))(m,"$input",!0);const T=Te.length===0;return T?{success:T,data:m}:{success:T,errors:Te,data:m}}return{success:!0,data:m}}})()(J);throw Error(W.success?"Something went wrong. Check config.":JSON.stringify(W.errors))}D[J.id]=J}return D},{});if(d.grids=Object.values(q).sort((D,$)=>(D.position||0)-($.position||0)),!(()=>{const D=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),$=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),J=i=>(i.global===void 0||typeof i.global=="object"&&i.global!==null&&Array.isArray(i.global)===!1&&W(i.global))&&Array.isArray(i.grids)&&i.grids.every(w=>typeof w=="object"&&w!==null&&g(w))&&(i.gridMergeStrategy==="add"||i.gridMergeStrategy==="reset"),W=i=>(i.id===void 0||typeof i.id=="string")&&(i.title===void 0||typeof i.title=="string")&&(i.position===void 0||typeof i.position=="number")&&(i.minCardWidth===void 0||typeof i.minCardWidth=="number")&&(i.replace===void 0||typeof i.replace=="object"&&i.replace!==null&&Array.isArray(i.replace)===!1&&U(i.replace))&&(i.filter===void 0||typeof i.filter=="object"&&i.filter!==null&&Array.isArray(i.filter)===!1&&te(i.filter))&&(i.sort===void 0||Array.isArray(i.sort)&&i.sort.every(w=>typeof w=="object"&&w!==null&&Q(w)))&&(i.card===void 0||typeof i.card=="object"&&i.card!==null&&Array.isArray(i.card)===!1&&X(i.card)),U=i=>Object.keys(i).every(w=>{const I=i[w];return I===void 0?!0:typeof I=="object"&&I!==null&&H(I)}),H=i=>typeof i.card=="object"&&i.card!==null&&K(i.card),K=i=>(i.index===void 0||typeof i.index=="number")&&(i.view_index===void 0||typeof i.view_index=="number")&&typeof i.type=="string"&&Object.keys(i).every(w=>(["index","view_index","type"].some(M=>w===M)||i[w]===void 0,!0)),te=i=>(i.exclude===void 0||Array.isArray(i.exclude)&&i.exclude.every(w=>typeof w=="object"&&w!==null&&ie(w)))&&(i.include===void 0||Array.isArray(i.include)&&i.include.every(w=>typeof w=="object"&&w!==null&&ie(w))),ie=i=>(i.comparator===void 0||i.comparator==="equal"||i.comparator==="match"||i.comparator==="in"||i.comparator==="greater_than"||i.comparator==="lower_than"||i.comparator==="is_null"||i.comparator==="is_numeric")&&!0&&D.has(i.type)===!0&&(i.config===void 0||typeof i.config=="object"&&i.config!==null&&Array.isArray(i.config)===!1&&re(i.config)),re=i=>(i.key===void 0||typeof i.key=="string")&&(i.label===void 0||typeof i.label=="string"),Q=i=>(i.comparator===void 0||i.comparator==="ascending"||i.comparator==="descending")&&$.has(i.type)===!0&&(i.config===void 0||typeof i.config=="object"&&i.config!==null&&Array.isArray(i.config)===!1&&re(i.config)),X=i=>(i.index===void 0||typeof i.index=="number")&&(i.view_index===void 0||typeof i.view_index=="number")&&(i.type===void 0||typeof i.type=="string")&&Object.keys(i).every(w=>(["index","view_index","type"].some(M=>w===M)||i[w]===void 0,!0)),g=i=>typeof i.id=="string"&&(i.title===void 0||typeof i.title=="string")&&(i.position===void 0||typeof i.position=="number")&&typeof i.minCardWidth=="number"&&(i.replace===void 0||typeof i.replace=="object"&&i.replace!==null&&Array.isArray(i.replace)===!1&&U(i.replace))&&(i.filter===void 0||typeof i.filter=="object"&&i.filter!==null&&Array.isArray(i.filter)===!1&&te(i.filter))&&(i.sort===void 0||Array.isArray(i.sort)&&i.sort.every(w=>typeof w=="object"&&w!==null&&Q(w)))&&typeof i.card=="object"&&i.card!==null&&K(i.card);return i=>typeof i=="object"&&i!==null&&J(i)})()(d)){const D=(()=>{const $=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),J=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),W=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),U=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),H=f=>(f.global===void 0||typeof f.global=="object"&&f.global!==null&&Array.isArray(f.global)===!1&&K(f.global))&&Array.isArray(f.grids)&&f.grids.every(a=>typeof a=="object"&&a!==null&&I(a))&&(f.gridMergeStrategy==="add"||f.gridMergeStrategy==="reset"),K=f=>(f.id===void 0||typeof f.id=="string")&&(f.title===void 0||typeof f.title=="string")&&(f.position===void 0||typeof f.position=="number")&&(f.minCardWidth===void 0||typeof f.minCardWidth=="number")&&(f.replace===void 0||typeof f.replace=="object"&&f.replace!==null&&Array.isArray(f.replace)===!1&&te(f.replace))&&(f.filter===void 0||typeof f.filter=="object"&&f.filter!==null&&Array.isArray(f.filter)===!1&&Q(f.filter))&&(f.sort===void 0||Array.isArray(f.sort)&&f.sort.every(a=>typeof a=="object"&&a!==null&&i(a)))&&(f.card===void 0||typeof f.card=="object"&&f.card!==null&&Array.isArray(f.card)===!1&&w(f.card)),te=f=>Object.keys(f).every(a=>{const y=f[a];return y===void 0?!0:typeof y=="object"&&y!==null&&ie(y)}),ie=f=>typeof f.card=="object"&&f.card!==null&&re(f.card),re=f=>(f.index===void 0||typeof f.index=="number")&&(f.view_index===void 0||typeof f.view_index=="number")&&typeof f.type=="string"&&Object.keys(f).every(a=>(["index","view_index","type"].some(u=>a===u)||f[a]===void 0,!0)),Q=f=>(f.exclude===void 0||Array.isArray(f.exclude)&&f.exclude.every(a=>typeof a=="object"&&a!==null&&X(a)))&&(f.include===void 0||Array.isArray(f.include)&&f.include.every(a=>typeof a=="object"&&a!==null&&X(a))),X=f=>(f.comparator===void 0||f.comparator==="equal"||f.comparator==="match"||f.comparator==="in"||f.comparator==="greater_than"||f.comparator==="lower_than"||f.comparator==="is_null"||f.comparator==="is_numeric")&&!0&&$.has(f.type)===!0&&(f.config===void 0||typeof f.config=="object"&&f.config!==null&&Array.isArray(f.config)===!1&&g(f.config)),g=f=>(f.key===void 0||typeof f.key=="string")&&(f.label===void 0||typeof f.label=="string"),i=f=>(f.comparator===void 0||f.comparator==="ascending"||f.comparator==="descending")&&J.has(f.type)===!0&&(f.config===void 0||typeof f.config=="object"&&f.config!==null&&Array.isArray(f.config)===!1&&g(f.config)),w=f=>(f.index===void 0||typeof f.index=="number")&&(f.view_index===void 0||typeof f.view_index=="number")&&(f.type===void 0||typeof f.type=="string")&&Object.keys(f).every(a=>(["index","view_index","type"].some(u=>a===u)||f[a]===void 0,!0)),I=f=>typeof f.id=="string"&&(f.title===void 0||typeof f.title=="string")&&(f.position===void 0||typeof f.position=="number")&&typeof f.minCardWidth=="number"&&(f.replace===void 0||typeof f.replace=="object"&&f.replace!==null&&Array.isArray(f.replace)===!1&&te(f.replace))&&(f.filter===void 0||typeof f.filter=="object"&&f.filter!==null&&Array.isArray(f.filter)===!1&&Q(f.filter))&&(f.sort===void 0||Array.isArray(f.sort)&&f.sort.every(a=>typeof a=="object"&&a!==null&&i(a)))&&typeof f.card=="object"&&f.card!==null&&re(f.card),M=(f,a,y=!0)=>[f.global===void 0||(typeof f.global=="object"&&f.global!==null&&Array.isArray(f.global)===!1||x(y,{path:a+".global",expected:"(DeepPartial<BaseRowOptions> | undefined)",value:f.global}))&&se(f.global,a+".global",y)||x(y,{path:a+".global",expected:"(DeepPartial<BaseRowOptions> | undefined)",value:f.global}),(Array.isArray(f.grids)||x(y,{path:a+".grids",expected:"Array<BaseRowOptions>",value:f.grids}))&&f.grids.map((u,o)=>(typeof u=="object"&&u!==null||x(y,{path:a+".grids["+o+"]",expected:"BaseRowOptions",value:u}))&&k(u,a+".grids["+o+"]",y)||x(y,{path:a+".grids["+o+"]",expected:"BaseRowOptions",value:u})).every(u=>u)||x(y,{path:a+".grids",expected:"Array<BaseRowOptions>",value:f.grids}),f.gridMergeStrategy==="add"||f.gridMergeStrategy==="reset"||x(y,{path:a+".gridMergeStrategy",expected:'("add" | "reset")',value:f.gridMergeStrategy})].every(u=>u),se=(f,a,y=!0)=>[f.id===void 0||typeof f.id=="string"||x(y,{path:a+".id",expected:"(string | undefined)",value:f.id}),f.title===void 0||typeof f.title=="string"||x(y,{path:a+".title",expected:"(string | undefined)",value:f.title}),f.position===void 0||typeof f.position=="number"||x(y,{path:a+".position",expected:"(number | undefined)",value:f.position}),f.minCardWidth===void 0||typeof f.minCardWidth=="number"||x(y,{path:a+".minCardWidth",expected:"(number | undefined)",value:f.minCardWidth}),f.replace===void 0||(typeof f.replace=="object"&&f.replace!==null&&Array.isArray(f.replace)===!1||x(y,{path:a+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:f.replace}))&&pe(f.replace,a+".replace",y)||x(y,{path:a+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:f.replace}),f.filter===void 0||(typeof f.filter=="object"&&f.filter!==null&&Array.isArray(f.filter)===!1||x(y,{path:a+".filter",expected:"(FilterObject | undefined)",value:f.filter}))&&ke(f.filter,a+".filter",y)||x(y,{path:a+".filter",expected:"(FilterObject | undefined)",value:f.filter}),f.sort===void 0||(Array.isArray(f.sort)||x(y,{path:a+".sort",expected:"(Array<SortConfig> | undefined)",value:f.sort}))&&f.sort.map((u,o)=>(typeof u=="object"&&u!==null||x(y,{path:a+".sort["+o+"]",expected:"SortConfig",value:u}))&&He(u,a+".sort["+o+"]",y)||x(y,{path:a+".sort["+o+"]",expected:"SortConfig",value:u})).every(u=>u)||x(y,{path:a+".sort",expected:"(Array<SortConfig> | undefined)",value:f.sort}),f.card===void 0||(typeof f.card=="object"&&f.card!==null&&Array.isArray(f.card)===!1||x(y,{path:a+".card",expected:"(DeepPartial<LovelaceCardConfig> | undefined)",value:f.card}))&&Te(f.card,a+".card",y)||x(y,{path:a+".card",expected:"(DeepPartial<LovelaceCardConfig> | undefined)",value:f.card})].every(u=>u),pe=(f,a,y=!0)=>[y===!1||Object.keys(f).map(u=>{const o=f[u];return o===void 0?!0:(typeof o=="object"&&o!==null||x(y,{path:a+Ve._accessExpressionAsString(u),expected:"GridStrategyCardConfig",value:o}))&&Ee(o,a+Ve._accessExpressionAsString(u),y)||x(y,{path:a+Ve._accessExpressionAsString(u),expected:"GridStrategyCardConfig",value:o})}).every(u=>u)].every(u=>u),Ee=(f,a,y=!0)=>[(typeof f.card=="object"&&f.card!==null||x(y,{path:a+".card",expected:"LovelaceCardConfig",value:f.card}))&&be(f.card,a+".card",y)||x(y,{path:a+".card",expected:"LovelaceCardConfig",value:f.card})].every(u=>u),be=(f,a,y=!0)=>[f.index===void 0||typeof f.index=="number"||x(y,{path:a+".index",expected:"(number | undefined)",value:f.index}),f.view_index===void 0||typeof f.view_index=="number"||x(y,{path:a+".view_index",expected:"(number | undefined)",value:f.view_index}),typeof f.type=="string"||x(y,{path:a+".type",expected:"string",value:f.type}),y===!1||Object.keys(f).map(u=>(["index","view_index","type"].some(_=>u===_)||f[u]===void 0,!0)).every(u=>u)].every(u=>u),ke=(f,a,y=!0)=>[f.exclude===void 0||(Array.isArray(f.exclude)||x(y,{path:a+".exclude",expected:"(Array<FilterConfig> | undefined)",value:f.exclude}))&&f.exclude.map((u,o)=>(typeof u=="object"&&u!==null||x(y,{path:a+".exclude["+o+"]",expected:"FilterConfig",value:u}))&&je(u,a+".exclude["+o+"]",y)||x(y,{path:a+".exclude["+o+"]",expected:"FilterConfig",value:u})).every(u=>u)||x(y,{path:a+".exclude",expected:"(Array<FilterConfig> | undefined)",value:f.exclude}),f.include===void 0||(Array.isArray(f.include)||x(y,{path:a+".include",expected:"(Array<FilterConfig> | undefined)",value:f.include}))&&f.include.map((u,o)=>(typeof u=="object"&&u!==null||x(y,{path:a+".include["+o+"]",expected:"FilterConfig",value:u}))&&je(u,a+".include["+o+"]",y)||x(y,{path:a+".include["+o+"]",expected:"FilterConfig",value:u})).every(u=>u)||x(y,{path:a+".include",expected:"(Array<FilterConfig> | undefined)",value:f.include})].every(u=>u),je=(f,a,y=!0)=>[f.comparator===void 0||f.comparator==="equal"||f.comparator==="match"||f.comparator==="in"||f.comparator==="greater_than"||f.comparator==="lower_than"||f.comparator==="is_null"||f.comparator==="is_numeric"||x(y,{path:a+".comparator",expected:'("equal" | "greater_than" | "in" | "is_null" | "is_numeric" | "lower_than" | "match" | undefined)',value:f.comparator}),!0,W.has(f.type)===!0||x(y,{path:a+".type",expected:'("area" | "attribute" | "device" | "disabled_by" | "domain" | "entity" | "entity_category" | "floor" | "hidden_by" | "integration" | "label" | "state")',value:f.type}),f.config===void 0||(typeof f.config=="object"&&f.config!==null&&Array.isArray(f.config)===!1||x(y,{path:a+".config",expected:"(TypeConfig | undefined)",value:f.config}))&&Be(f.config,a+".config",y)||x(y,{path:a+".config",expected:"(TypeConfig | undefined)",value:f.config})].every(u=>u),Be=(f,a,y=!0)=>[f.key===void 0||typeof f.key=="string"||x(y,{path:a+".key",expected:"(string | undefined)",value:f.key}),f.label===void 0||typeof f.label=="string"||x(y,{path:a+".label",expected:"(string | undefined)",value:f.label})].every(u=>u),He=(f,a,y=!0)=>[f.comparator===void 0||f.comparator==="ascending"||f.comparator==="descending"||x(y,{path:a+".comparator",expected:'("ascending" | "descending" | undefined)',value:f.comparator}),U.has(f.type)===!0||x(y,{path:a+".type",expected:'("area" | "attribute" | "device" | "disabled_by" | "domain" | "entity" | "entity_category" | "floor" | "hidden_by" | "integration" | "label" | "state")',value:f.type}),f.config===void 0||(typeof f.config=="object"&&f.config!==null&&Array.isArray(f.config)===!1||x(y,{path:a+".config",expected:"(TypeConfig | undefined)",value:f.config}))&&Be(f.config,a+".config",y)||x(y,{path:a+".config",expected:"(TypeConfig | undefined)",value:f.config})].every(u=>u),Te=(f,a,y=!0)=>[f.index===void 0||typeof f.index=="number"||x(y,{path:a+".index",expected:"(number | undefined)",value:f.index}),f.view_index===void 0||typeof f.view_index=="number"||x(y,{path:a+".view_index",expected:"(number | undefined)",value:f.view_index}),f.type===void 0||typeof f.type=="string"||x(y,{path:a+".type",expected:"(string | undefined)",value:f.type}),y===!1||Object.keys(f).map(u=>(["index","view_index","type"].some(_=>u===_)||f[u]===void 0,!0)).every(u=>u)].every(u=>u),k=(f,a,y=!0)=>[typeof f.id=="string"||x(y,{path:a+".id",expected:"string",value:f.id}),f.title===void 0||typeof f.title=="string"||x(y,{path:a+".title",expected:"(string | undefined)",value:f.title}),f.position===void 0||typeof f.position=="number"||x(y,{path:a+".position",expected:"(number | undefined)",value:f.position}),typeof f.minCardWidth=="number"||x(y,{path:a+".minCardWidth",expected:"number",value:f.minCardWidth}),f.replace===void 0||(typeof f.replace=="object"&&f.replace!==null&&Array.isArray(f.replace)===!1||x(y,{path:a+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:f.replace}))&&pe(f.replace,a+".replace",y)||x(y,{path:a+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:f.replace}),f.filter===void 0||(typeof f.filter=="object"&&f.filter!==null&&Array.isArray(f.filter)===!1||x(y,{path:a+".filter",expected:"(FilterObject | undefined)",value:f.filter}))&&ke(f.filter,a+".filter",y)||x(y,{path:a+".filter",expected:"(FilterObject | undefined)",value:f.filter}),f.sort===void 0||(Array.isArray(f.sort)||x(y,{path:a+".sort",expected:"(Array<SortConfig> | undefined)",value:f.sort}))&&f.sort.map((u,o)=>(typeof u=="object"&&u!==null||x(y,{path:a+".sort["+o+"]",expected:"SortConfig",value:u}))&&He(u,a+".sort["+o+"]",y)||x(y,{path:a+".sort["+o+"]",expected:"SortConfig",value:u})).every(u=>u)||x(y,{path:a+".sort",expected:"(Array<SortConfig> | undefined)",value:f.sort}),(typeof f.card=="object"&&f.card!==null||x(y,{path:a+".card",expected:"LovelaceCardConfig",value:f.card}))&&be(f.card,a+".card",y)||x(y,{path:a+".card",expected:"LovelaceCardConfig",value:f.card})].every(u=>u),m=f=>typeof f=="object"&&f!==null&&H(f);let T,x;return f=>{if(m(f)===!1){T=[],x=ut._validateReport(T),((y,u,o=!0)=>(typeof y=="object"&&y!==null||x(!0,{path:u+"",expected:"BaseGridOptions<BaseRowOptions>",value:y}))&&M(y,u+"",!0)||x(!0,{path:u+"",expected:"BaseGridOptions<BaseRowOptions>",value:y}))(f,"$input",!0);const a=T.length===0;return a?{success:a,data:f}:{success:a,errors:T,data:f}}return{success:!0,data:f}}})()(d);throw Error(D.success?"Something went wrong. Check config.":JSON.stringify(D.errors))}return d},Bn=(j,F,d={placeholder:"$entity",key:"entity_id"})=>{const N=[],q=[];return F.forEach((D,$)=>{var H;const J=((H=(j.replace||{})[D[d.key]])==null?void 0:H.card)||j.card,W=Object.fromEntries([...d.replaces||[],["$index",$.toString()],[d.placeholder,D[d.key]]]),U=Object.entries(J).filter(([K,te])=>{const ie=JSON.stringify(te);return Object.keys(W).some(re=>ie.includes(re))}).map(([K,te])=>{const ie=JSON.stringify(te),re=Object.entries(W).reduce((Q,X)=>Q.replaceAll(X[0],X[1]),ie);return[K,JSON.parse(re)]});q.push({type:"vertical-stack",cards:[{...J,...Object.fromEntries(U)}]})}),q.length>0&&(j.title&&N.push({type:"markdown",text_only:!0,content:"## "+j.title}),N.push({type:"custom:layout-card",layout_type:"custom:grid-layout",layout:{"grid-template-rows":"auto","grid-template-columns":`repeat(auto-fit, minmax(${j.minCardWidth}px, 1fr))`},cards:q})),N},li=(...j)=>{const F=j.filter(sr).reduce((d,N)=>({...d,...N}));if(F.navigation=j.map(d=>d==null?void 0:d.navigation).filter(sr).reduce((d,N)=>({...d,...N})),!(()=>{const d=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),N=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),q=g=>Array.isArray(g.main)&&g.main.every(i=>typeof i=="object"&&i!==null&&D(i))&&typeof g.navigation=="object"&&g.navigation!==null&&$(g.navigation)&&(g.topCards===void 0||Array.isArray(g.topCards)&&g.topCards.every(i=>typeof i=="object"&&i!==null&&U(i)))&&(g.extraViews===void 0||Array.isArray(g.extraViews)&&g.extraViews.every(i=>typeof i=="object"&&i!==null&&Array.isArray(i)===!1&&re(i))),D=g=>typeof g.title=="string"&&typeof g.icon=="string"&&typeof g.match=="string",$=g=>typeof g.id=="string"&&(g.title===void 0||typeof g.title=="string")&&(g.position===void 0||typeof g.position=="number")&&typeof g.minCardWidth=="number"&&(g.replace===void 0||typeof g.replace=="object"&&g.replace!==null&&Array.isArray(g.replace)===!1&&J(g.replace))&&(g.filter===void 0||typeof g.filter=="object"&&g.filter!==null&&Array.isArray(g.filter)===!1&&H(g.filter))&&(g.sort===void 0||Array.isArray(g.sort)&&g.sort.every(i=>typeof i=="object"&&i!==null&&ie(i)))&&typeof g.card=="object"&&g.card!==null&&U(g.card),J=g=>Object.keys(g).every(i=>{const w=g[i];return w===void 0?!0:typeof w=="object"&&w!==null&&W(w)}),W=g=>typeof g.card=="object"&&g.card!==null&&U(g.card),U=g=>(g.index===void 0||typeof g.index=="number")&&(g.view_index===void 0||typeof g.view_index=="number")&&typeof g.type=="string"&&Object.keys(g).every(i=>(["index","view_index","type"].some(I=>i===I)||g[i]===void 0,!0)),H=g=>(g.exclude===void 0||Array.isArray(g.exclude)&&g.exclude.every(i=>typeof i=="object"&&i!==null&&K(i)))&&(g.include===void 0||Array.isArray(g.include)&&g.include.every(i=>typeof i=="object"&&i!==null&&K(i))),K=g=>(g.comparator===void 0||g.comparator==="equal"||g.comparator==="match"||g.comparator==="in"||g.comparator==="greater_than"||g.comparator==="lower_than"||g.comparator==="is_null"||g.comparator==="is_numeric")&&!0&&d.has(g.type)===!0&&(g.config===void 0||typeof g.config=="object"&&g.config!==null&&Array.isArray(g.config)===!1&&te(g.config)),te=g=>(g.key===void 0||typeof g.key=="string")&&(g.label===void 0||typeof g.label=="string"),ie=g=>(g.comparator===void 0||g.comparator==="ascending"||g.comparator==="descending")&&N.has(g.type)===!0&&(g.config===void 0||typeof g.config=="object"&&g.config!==null&&Array.isArray(g.config)===!1&&te(g.config)),re=g=>(g.index===void 0||typeof g.index=="number")&&(g.title===void 0||typeof g.title=="string")&&(g.badges===void 0||Array.isArray(g.badges)&&g.badges.every(i=>i!=null&&(typeof i=="string"||typeof i=="object"&&i!==null&&Array.isArray(i)===!1&&Q(i))))&&(g.cards===void 0||Array.isArray(g.cards)&&g.cards.every(i=>typeof i=="object"&&i!==null&&U(i)))&&(g.path===void 0||typeof g.path=="string")&&(g.icon===void 0||typeof g.icon=="string")&&(g.theme===void 0||typeof g.theme=="string")&&(g.panel===void 0||typeof g.panel=="boolean")&&(g.background===void 0||typeof g.background=="string")&&g.visible!==null&&(g.visible===void 0||typeof g.visible=="boolean"||Array.isArray(g.visible)&&g.visible.every(i=>typeof i=="object"&&i!==null&&Array.isArray(i)===!1&&X(i))),Q=g=>(g.type===void 0||typeof g.type=="string")&&Object.keys(g).every(i=>(["type"].some(I=>i===I)||g[i]===void 0,!0)),X=g=>g.user===void 0||typeof g.user=="string";return g=>typeof g=="object"&&g!==null&&q(g)})()(F)){const d=(()=>{const N=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),q=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),D=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),$=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),J=a=>Array.isArray(a.main)&&a.main.every(y=>typeof y=="object"&&y!==null&&W(y))&&typeof a.navigation=="object"&&a.navigation!==null&&U(a.navigation)&&(a.topCards===void 0||Array.isArray(a.topCards)&&a.topCards.every(y=>typeof y=="object"&&y!==null&&te(y)))&&(a.extraViews===void 0||Array.isArray(a.extraViews)&&a.extraViews.every(y=>typeof y=="object"&&y!==null&&Array.isArray(y)===!1&&g(y))),W=a=>typeof a.title=="string"&&typeof a.icon=="string"&&typeof a.match=="string",U=a=>typeof a.id=="string"&&(a.title===void 0||typeof a.title=="string")&&(a.position===void 0||typeof a.position=="number")&&typeof a.minCardWidth=="number"&&(a.replace===void 0||typeof a.replace=="object"&&a.replace!==null&&Array.isArray(a.replace)===!1&&H(a.replace))&&(a.filter===void 0||typeof a.filter=="object"&&a.filter!==null&&Array.isArray(a.filter)===!1&&ie(a.filter))&&(a.sort===void 0||Array.isArray(a.sort)&&a.sort.every(y=>typeof y=="object"&&y!==null&&X(y)))&&typeof a.card=="object"&&a.card!==null&&te(a.card),H=a=>Object.keys(a).every(y=>{const u=a[y];return u===void 0?!0:typeof u=="object"&&u!==null&&K(u)}),K=a=>typeof a.card=="object"&&a.card!==null&&te(a.card),te=a=>(a.index===void 0||typeof a.index=="number")&&(a.view_index===void 0||typeof a.view_index=="number")&&typeof a.type=="string"&&Object.keys(a).every(y=>(["index","view_index","type"].some(o=>y===o)||a[y]===void 0,!0)),ie=a=>(a.exclude===void 0||Array.isArray(a.exclude)&&a.exclude.every(y=>typeof y=="object"&&y!==null&&re(y)))&&(a.include===void 0||Array.isArray(a.include)&&a.include.every(y=>typeof y=="object"&&y!==null&&re(y))),re=a=>(a.comparator===void 0||a.comparator==="equal"||a.comparator==="match"||a.comparator==="in"||a.comparator==="greater_than"||a.comparator==="lower_than"||a.comparator==="is_null"||a.comparator==="is_numeric")&&!0&&N.has(a.type)===!0&&(a.config===void 0||typeof a.config=="object"&&a.config!==null&&Array.isArray(a.config)===!1&&Q(a.config)),Q=a=>(a.key===void 0||typeof a.key=="string")&&(a.label===void 0||typeof a.label=="string"),X=a=>(a.comparator===void 0||a.comparator==="ascending"||a.comparator==="descending")&&q.has(a.type)===!0&&(a.config===void 0||typeof a.config=="object"&&a.config!==null&&Array.isArray(a.config)===!1&&Q(a.config)),g=a=>(a.index===void 0||typeof a.index=="number")&&(a.title===void 0||typeof a.title=="string")&&(a.badges===void 0||Array.isArray(a.badges)&&a.badges.every(y=>y!=null&&(typeof y=="string"||typeof y=="object"&&y!==null&&Array.isArray(y)===!1&&i(y))))&&(a.cards===void 0||Array.isArray(a.cards)&&a.cards.every(y=>typeof y=="object"&&y!==null&&te(y)))&&(a.path===void 0||typeof a.path=="string")&&(a.icon===void 0||typeof a.icon=="string")&&(a.theme===void 0||typeof a.theme=="string")&&(a.panel===void 0||typeof a.panel=="boolean")&&(a.background===void 0||typeof a.background=="string")&&a.visible!==null&&(a.visible===void 0||typeof a.visible=="boolean"||Array.isArray(a.visible)&&a.visible.every(y=>typeof y=="object"&&y!==null&&Array.isArray(y)===!1&&w(y))),i=a=>(a.type===void 0||typeof a.type=="string")&&Object.keys(a).every(y=>(["type"].some(o=>y===o)||a[y]===void 0,!0)),w=a=>a.user===void 0||typeof a.user=="string",I=(a,y,u=!0)=>[(Array.isArray(a.main)||f(u,{path:y+".main",expected:"Array<TabConfig>",value:a.main}))&&a.main.map((o,_)=>(typeof o=="object"&&o!==null||f(u,{path:y+".main["+_+"]",expected:"TabConfig",value:o}))&&M(o,y+".main["+_+"]",u)||f(u,{path:y+".main["+_+"]",expected:"TabConfig",value:o})).every(o=>o)||f(u,{path:y+".main",expected:"Array<TabConfig>",value:a.main}),(typeof a.navigation=="object"&&a.navigation!==null||f(u,{path:y+".navigation",expected:"BaseRowOptions",value:a.navigation}))&&se(a.navigation,y+".navigation",u)||f(u,{path:y+".navigation",expected:"BaseRowOptions",value:a.navigation}),a.topCards===void 0||(Array.isArray(a.topCards)||f(u,{path:y+".topCards",expected:"(Array<LovelaceCardConfig> | undefined)",value:a.topCards}))&&a.topCards.map((o,_)=>(typeof o=="object"&&o!==null||f(u,{path:y+".topCards["+_+"]",expected:"LovelaceCardConfig",value:o}))&&be(o,y+".topCards["+_+"]",u)||f(u,{path:y+".topCards["+_+"]",expected:"LovelaceCardConfig",value:o})).every(o=>o)||f(u,{path:y+".topCards",expected:"(Array<LovelaceCardConfig> | undefined)",value:a.topCards}),a.extraViews===void 0||(Array.isArray(a.extraViews)||f(u,{path:y+".extraViews",expected:"(Array<LovelaceViewConfig> | undefined)",value:a.extraViews}))&&a.extraViews.map((o,_)=>(typeof o=="object"&&o!==null&&Array.isArray(o)===!1||f(u,{path:y+".extraViews["+_+"]",expected:"LovelaceViewConfig",value:o}))&&Te(o,y+".extraViews["+_+"]",u)||f(u,{path:y+".extraViews["+_+"]",expected:"LovelaceViewConfig",value:o})).every(o=>o)||f(u,{path:y+".extraViews",expected:"(Array<LovelaceViewConfig> | undefined)",value:a.extraViews})].every(o=>o),M=(a,y,u=!0)=>[typeof a.title=="string"||f(u,{path:y+".title",expected:"string",value:a.title}),typeof a.icon=="string"||f(u,{path:y+".icon",expected:"string",value:a.icon}),typeof a.match=="string"||f(u,{path:y+".match",expected:"string",value:a.match})].every(o=>o),se=(a,y,u=!0)=>[typeof a.id=="string"||f(u,{path:y+".id",expected:"string",value:a.id}),a.title===void 0||typeof a.title=="string"||f(u,{path:y+".title",expected:"(string | undefined)",value:a.title}),a.position===void 0||typeof a.position=="number"||f(u,{path:y+".position",expected:"(number | undefined)",value:a.position}),typeof a.minCardWidth=="number"||f(u,{path:y+".minCardWidth",expected:"number",value:a.minCardWidth}),a.replace===void 0||(typeof a.replace=="object"&&a.replace!==null&&Array.isArray(a.replace)===!1||f(u,{path:y+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:a.replace}))&&pe(a.replace,y+".replace",u)||f(u,{path:y+".replace",expected:"(Record<string, GridStrategyCardConfig> | undefined)",value:a.replace}),a.filter===void 0||(typeof a.filter=="object"&&a.filter!==null&&Array.isArray(a.filter)===!1||f(u,{path:y+".filter",expected:"(FilterObject | undefined)",value:a.filter}))&&ke(a.filter,y+".filter",u)||f(u,{path:y+".filter",expected:"(FilterObject | undefined)",value:a.filter}),a.sort===void 0||(Array.isArray(a.sort)||f(u,{path:y+".sort",expected:"(Array<SortConfig> | undefined)",value:a.sort}))&&a.sort.map((o,_)=>(typeof o=="object"&&o!==null||f(u,{path:y+".sort["+_+"]",expected:"SortConfig",value:o}))&&He(o,y+".sort["+_+"]",u)||f(u,{path:y+".sort["+_+"]",expected:"SortConfig",value:o})).every(o=>o)||f(u,{path:y+".sort",expected:"(Array<SortConfig> | undefined)",value:a.sort}),(typeof a.card=="object"&&a.card!==null||f(u,{path:y+".card",expected:"LovelaceCardConfig",value:a.card}))&&be(a.card,y+".card",u)||f(u,{path:y+".card",expected:"LovelaceCardConfig",value:a.card})].every(o=>o),pe=(a,y,u=!0)=>[u===!1||Object.keys(a).map(o=>{const _=a[o];return _===void 0?!0:(typeof _=="object"&&_!==null||f(u,{path:y+Ve._accessExpressionAsString(o),expected:"GridStrategyCardConfig",value:_}))&&Ee(_,y+Ve._accessExpressionAsString(o),u)||f(u,{path:y+Ve._accessExpressionAsString(o),expected:"GridStrategyCardConfig",value:_})}).every(o=>o)].every(o=>o),Ee=(a,y,u=!0)=>[(typeof a.card=="object"&&a.card!==null||f(u,{path:y+".card",expected:"LovelaceCardConfig",value:a.card}))&&be(a.card,y+".card",u)||f(u,{path:y+".card",expected:"LovelaceCardConfig",value:a.card})].every(o=>o),be=(a,y,u=!0)=>[a.index===void 0||typeof a.index=="number"||f(u,{path:y+".index",expected:"(number | undefined)",value:a.index}),a.view_index===void 0||typeof a.view_index=="number"||f(u,{path:y+".view_index",expected:"(number | undefined)",value:a.view_index}),typeof a.type=="string"||f(u,{path:y+".type",expected:"string",value:a.type}),u===!1||Object.keys(a).map(o=>(["index","view_index","type"].some(p=>o===p)||a[o]===void 0,!0)).every(o=>o)].every(o=>o),ke=(a,y,u=!0)=>[a.exclude===void 0||(Array.isArray(a.exclude)||f(u,{path:y+".exclude",expected:"(Array<FilterConfig> | undefined)",value:a.exclude}))&&a.exclude.map((o,_)=>(typeof o=="object"&&o!==null||f(u,{path:y+".exclude["+_+"]",expected:"FilterConfig",value:o}))&&je(o,y+".exclude["+_+"]",u)||f(u,{path:y+".exclude["+_+"]",expected:"FilterConfig",value:o})).every(o=>o)||f(u,{path:y+".exclude",expected:"(Array<FilterConfig> | undefined)",value:a.exclude}),a.include===void 0||(Array.isArray(a.include)||f(u,{path:y+".include",expected:"(Array<FilterConfig> | undefined)",value:a.include}))&&a.include.map((o,_)=>(typeof o=="object"&&o!==null||f(u,{path:y+".include["+_+"]",expected:"FilterConfig",value:o}))&&je(o,y+".include["+_+"]",u)||f(u,{path:y+".include["+_+"]",expected:"FilterConfig",value:o})).every(o=>o)||f(u,{path:y+".include",expected:"(Array<FilterConfig> | undefined)",value:a.include})].every(o=>o),je=(a,y,u=!0)=>[a.comparator===void 0||a.comparator==="equal"||a.comparator==="match"||a.comparator==="in"||a.comparator==="greater_than"||a.comparator==="lower_than"||a.comparator==="is_null"||a.comparator==="is_numeric"||f(u,{path:y+".comparator",expected:'("equal" | "greater_than" | "in" | "is_null" | "is_numeric" | "lower_than" | "match" | undefined)',value:a.comparator}),!0,D.has(a.type)===!0||f(u,{path:y+".type",expected:'("area" | "attribute" | "device" | "disabled_by" | "domain" | "entity" | "entity_category" | "floor" | "hidden_by" | "integration" | "label" | "state")',value:a.type}),a.config===void 0||(typeof a.config=="object"&&a.config!==null&&Array.isArray(a.config)===!1||f(u,{path:y+".config",expected:"(TypeConfig | undefined)",value:a.config}))&&Be(a.config,y+".config",u)||f(u,{path:y+".config",expected:"(TypeConfig | undefined)",value:a.config})].every(o=>o),Be=(a,y,u=!0)=>[a.key===void 0||typeof a.key=="string"||f(u,{path:y+".key",expected:"(string | undefined)",value:a.key}),a.label===void 0||typeof a.label=="string"||f(u,{path:y+".label",expected:"(string | undefined)",value:a.label})].every(o=>o),He=(a,y,u=!0)=>[a.comparator===void 0||a.comparator==="ascending"||a.comparator==="descending"||f(u,{path:y+".comparator",expected:'("ascending" | "descending" | undefined)',value:a.comparator}),$.has(a.type)===!0||f(u,{path:y+".type",expected:'("area" | "attribute" | "device" | "disabled_by" | "domain" | "entity" | "entity_category" | "floor" | "hidden_by" | "integration" | "label" | "state")',value:a.type}),a.config===void 0||(typeof a.config=="object"&&a.config!==null&&Array.isArray(a.config)===!1||f(u,{path:y+".config",expected:"(TypeConfig | undefined)",value:a.config}))&&Be(a.config,y+".config",u)||f(u,{path:y+".config",expected:"(TypeConfig | undefined)",value:a.config})].every(o=>o),Te=(a,y,u=!0)=>[a.index===void 0||typeof a.index=="number"||f(u,{path:y+".index",expected:"(number | undefined)",value:a.index}),a.title===void 0||typeof a.title=="string"||f(u,{path:y+".title",expected:"(string | undefined)",value:a.title}),a.badges===void 0||(Array.isArray(a.badges)||f(u,{path:y+".badges",expected:"(Array<string | LovelaceBadgeConfig> | undefined)",value:a.badges}))&&a.badges.map((o,_)=>(o!==null||f(u,{path:y+".badges["+_+"]",expected:"(LovelaceBadgeConfig | string)",value:o}))&&(o!==void 0||f(u,{path:y+".badges["+_+"]",expected:"(LovelaceBadgeConfig | string)",value:o}))&&(typeof o=="string"||(typeof o=="object"&&o!==null&&Array.isArray(o)===!1||f(u,{path:y+".badges["+_+"]",expected:"(LovelaceBadgeConfig | string)",value:o}))&&k(o,y+".badges["+_+"]",u)||f(u,{path:y+".badges["+_+"]",expected:"(LovelaceBadgeConfig | string)",value:o}))).every(o=>o)||f(u,{path:y+".badges",expected:"(Array<string | LovelaceBadgeConfig> | undefined)",value:a.badges}),a.cards===void 0||(Array.isArray(a.cards)||f(u,{path:y+".cards",expected:"(Array<LovelaceCardConfig> | undefined)",value:a.cards}))&&a.cards.map((o,_)=>(typeof o=="object"&&o!==null||f(u,{path:y+".cards["+_+"]",expected:"LovelaceCardConfig",value:o}))&&be(o,y+".cards["+_+"]",u)||f(u,{path:y+".cards["+_+"]",expected:"LovelaceCardConfig",value:o})).every(o=>o)||f(u,{path:y+".cards",expected:"(Array<LovelaceCardConfig> | undefined)",value:a.cards}),a.path===void 0||typeof a.path=="string"||f(u,{path:y+".path",expected:"(string | undefined)",value:a.path}),a.icon===void 0||typeof a.icon=="string"||f(u,{path:y+".icon",expected:"(string | undefined)",value:a.icon}),a.theme===void 0||typeof a.theme=="string"||f(u,{path:y+".theme",expected:"(string | undefined)",value:a.theme}),a.panel===void 0||typeof a.panel=="boolean"||f(u,{path:y+".panel",expected:"(boolean | undefined)",value:a.panel}),a.background===void 0||typeof a.background=="string"||f(u,{path:y+".background",expected:"(string | undefined)",value:a.background}),(a.visible!==null||f(u,{path:y+".visible",expected:"(Array<ShowViewConfig> | boolean | undefined)",value:a.visible}))&&(a.visible===void 0||typeof a.visible=="boolean"||(Array.isArray(a.visible)||f(u,{path:y+".visible",expected:"(Array<ShowViewConfig> | boolean | undefined)",value:a.visible}))&&a.visible.map((o,_)=>(typeof o=="object"&&o!==null&&Array.isArray(o)===!1||f(u,{path:y+".visible["+_+"]",expected:"ShowViewConfig",value:o}))&&m(o,y+".visible["+_+"]",u)||f(u,{path:y+".visible["+_+"]",expected:"ShowViewConfig",value:o})).every(o=>o)||f(u,{path:y+".visible",expected:"(Array<ShowViewConfig> | boolean | undefined)",value:a.visible}))].every(o=>o),k=(a,y,u=!0)=>[a.type===void 0||typeof a.type=="string"||f(u,{path:y+".type",expected:"(string | undefined)",value:a.type}),u===!1||Object.keys(a).map(o=>(["type"].some(p=>o===p)||a[o]===void 0,!0)).every(o=>o)].every(o=>o),m=(a,y,u=!0)=>[a.user===void 0||typeof a.user=="string"||f(u,{path:y+".user",expected:"(string | undefined)",value:a.user})].every(o=>o),T=a=>typeof a=="object"&&a!==null&&J(a);let x,f;return a=>{if(T(a)===!1){x=[],f=ut._validateReport(x),((u,o,_=!0)=>(typeof u=="object"&&u!==null||f(!0,{path:o+"",expected:"Omit<AreaStrategyOptions, keyof BaseGridOptions<BaseRowOptions | BaseRowRefOptions>>",value:u}))&&I(u,o+"",!0)||f(!0,{path:o+"",expected:"Omit<AreaStrategyOptions, keyof BaseGridOptions<BaseRowOptions | BaseRowRefOptions>>",value:u}))(a,"$input",!0);const y=x.length===0;return y?{success:y,data:a}:{success:y,errors:x,data:a}}return{success:!0,data:a}}})()(F);throw Error(d.success?"Something went wrong. Check config.":JSON.stringify(d.errors))}return F};class Jf extends HTMLTemplateElement{static async generate(F,d){var H;const[N,q]=await Promise.all([d.callWS({type:"config/entity_registry/list"}),d.callWS({type:"config/area_registry/list"})]),D=li(Fn,F==null?void 0:F.config),$=gt(D.navigation,d),J=Dt(D.navigation,d);return{views:[...q.filter($).sort(J).map((K,te)=>({strategy:{type:"custom:area-view-strategy",meta:{entities:N,areas:q},config:{...F.config,area:K.area_id}},title:K.name,path:K.area_id,icon:"mdi:home",type:"panel",subview:!1,visible:te==0})),...((H=F.config)==null?void 0:H.extraViews)||[]]}}}class Xf extends HTMLTemplateElement{static async generate(F,d){var M;const{meta:N}=F,q=(M=F.config)==null?void 0:M.area,D=li(Fn,F.config),{main:$,navigation:J,topCards:W}=D,{grids:U}=si(Fn,F.config);let H=Array(),K=Array();if(N)H=N.entities,K=N.areas;else{const se=await Promise.all([d.callWS({type:"config/entity_registry/list"}),d.callWS({type:"config/area_registry/list"})]);H=se[0],K=se[1]}const te=gt(J,d),ie=Dt(J,d),re=K.filter(te).sort(ie),Q=re.find(se=>se.area_id==q);if(!Q)throw Error("No area defined");const X=Bn(J,re,{placeholder:"$area",key:"area_id",replaces:[["$currArea",Q.area_id]]}),g={type:"vertical-stack",cards:[...W||[],...X,{type:"custom:gap-card",height:60}]},i=$.map(se=>{const Ee=U.filter(be=>new RegExp(se.match).test(be.id)).flatMap(be=>{const ke={filter:{include:[{type:$e.area,value:Q.area_id}]}},je=ht.mergeWith({},ke,ht.cloneDeep(be),ci),Be=gt(je,d),He=Dt(je,d),Te=H.filter(Be).sort(He);return Bn(be,Te)});return Ee.length>0?{attributes:{label:se.title,icon:se.icon,stacked:!0},card:{type:"vertical-stack",cards:[{type:"custom:gap-card",height:20},...Ee]}}:null}).filter(sr),w={type:"custom:tabbed-card",styles:{"--mdc-tab-text-label-color-default":"var(--primary-text-color)","--mdc-tab-color-default":"var(--primary-text-color)"},tabs:i};return{panel:!0,cards:[{type:"vertical-stack",cards:[{type:"conditional",conditions:[{condition:"screen",media_query:"(max-width: 1000px)"}],card:{type:"custom:state-switch",entity:"hash",default:"default",states:{"":g,default:{type:"vertical-stack",cards:[w,{type:"custom:mushroom-chips-card",card_mod:{style:`
                        ha-card { --chip-background: none; }
                        :host {
                          --chip-icon-size: 1em !important;
                          z-index: 2;
                          width: 100%;
                          position: fixed;
                          bottom: 0;
                          margin: 0 !important;
                          padding: 20px;
                          background: var(--app-header-background-color);
                          left: 50%;
                          transform: translateX(-50%);
                        }
                        @media (min-width: 1001px) {
                          :host {
                            display: none;
                          }
                        }`},chips:[{type:"spacer"},{type:"template",icon:"mdi:home",icon_height:"40px",tap_action:{action:"navigate",navigation_path:window.location.pathname}},{type:"spacer"}]},{type:"custom:gap-card",height:60}]}}}},{type:"conditional",conditions:[{condition:"screen",media_query:"(min-width: 1001px)"}],card:{type:"custom:layout-card",layout_type:"custom:grid-layout",layout:{"grid-template-columns":"2fr 3fr","grid-template-areas":"navigation main"},cards:[g,w]}}]}]}}}customElements.define(`${Hf}area-dashboard-strategy`,Jf),customElements.define(`${Tn}area-view-strategy`,Xf);const Vf=(...j)=>{const F=j.filter(sr).reduce((d,N)=>({...d,...N}));if(!(()=>{const d=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),N=W=>Array.isArray(W.presets)&&W.presets.every(U=>typeof U=="object"&&U!==null&&q(U)),q=W=>typeof W.title=="string"&&typeof W.icon=="string"&&(W.filter===void 0||typeof W.filter=="object"&&W.filter!==null&&Array.isArray(W.filter)===!1&&D(W.filter)),D=W=>(W.exclude===void 0||Array.isArray(W.exclude)&&W.exclude.every(U=>typeof U=="object"&&U!==null&&$(U)))&&(W.include===void 0||Array.isArray(W.include)&&W.include.every(U=>typeof U=="object"&&U!==null&&$(U))),$=W=>(W.comparator===void 0||W.comparator==="equal"||W.comparator==="match"||W.comparator==="in"||W.comparator==="greater_than"||W.comparator==="lower_than"||W.comparator==="is_null"||W.comparator==="is_numeric")&&!0&&d.has(W.type)===!0&&(W.config===void 0||typeof W.config=="object"&&W.config!==null&&Array.isArray(W.config)===!1&&J(W.config)),J=W=>(W.key===void 0||typeof W.key=="string")&&(W.label===void 0||typeof W.label=="string");return W=>typeof W=="object"&&W!==null&&N(W)})()(F)){const d=(()=>{const N=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),q=new Set(["entity","domain","device","area","floor","integration","label","state","attribute","disabled_by","hidden_by","entity_category"]),D=i=>Array.isArray(i.presets)&&i.presets.every(w=>typeof w=="object"&&w!==null&&$(w)),$=i=>typeof i.title=="string"&&typeof i.icon=="string"&&(i.filter===void 0||typeof i.filter=="object"&&i.filter!==null&&Array.isArray(i.filter)===!1&&J(i.filter)),J=i=>(i.exclude===void 0||Array.isArray(i.exclude)&&i.exclude.every(w=>typeof w=="object"&&w!==null&&W(w)))&&(i.include===void 0||Array.isArray(i.include)&&i.include.every(w=>typeof w=="object"&&w!==null&&W(w))),W=i=>(i.comparator===void 0||i.comparator==="equal"||i.comparator==="match"||i.comparator==="in"||i.comparator==="greater_than"||i.comparator==="lower_than"||i.comparator==="is_null"||i.comparator==="is_numeric")&&!0&&N.has(i.type)===!0&&(i.config===void 0||typeof i.config=="object"&&i.config!==null&&Array.isArray(i.config)===!1&&U(i.config)),U=i=>(i.key===void 0||typeof i.key=="string")&&(i.label===void 0||typeof i.label=="string"),H=(i,w,I=!0)=>[(Array.isArray(i.presets)||g(I,{path:w+".presets",expected:"Array<LogPreset>",value:i.presets}))&&i.presets.map((M,se)=>(typeof M=="object"&&M!==null||g(I,{path:w+".presets["+se+"]",expected:"LogPreset",value:M}))&&K(M,w+".presets["+se+"]",I)||g(I,{path:w+".presets["+se+"]",expected:"LogPreset",value:M})).every(M=>M)||g(I,{path:w+".presets",expected:"Array<LogPreset>",value:i.presets})].every(M=>M),K=(i,w,I=!0)=>[typeof i.title=="string"||g(I,{path:w+".title",expected:"string",value:i.title}),typeof i.icon=="string"||g(I,{path:w+".icon",expected:"string",value:i.icon}),i.filter===void 0||(typeof i.filter=="object"&&i.filter!==null&&Array.isArray(i.filter)===!1||g(I,{path:w+".filter",expected:"(FilterObject | undefined)",value:i.filter}))&&te(i.filter,w+".filter",I)||g(I,{path:w+".filter",expected:"(FilterObject | undefined)",value:i.filter})].every(M=>M),te=(i,w,I=!0)=>[i.exclude===void 0||(Array.isArray(i.exclude)||g(I,{path:w+".exclude",expected:"(Array<FilterConfig> | undefined)",value:i.exclude}))&&i.exclude.map((M,se)=>(typeof M=="object"&&M!==null||g(I,{path:w+".exclude["+se+"]",expected:"FilterConfig",value:M}))&&ie(M,w+".exclude["+se+"]",I)||g(I,{path:w+".exclude["+se+"]",expected:"FilterConfig",value:M})).every(M=>M)||g(I,{path:w+".exclude",expected:"(Array<FilterConfig> | undefined)",value:i.exclude}),i.include===void 0||(Array.isArray(i.include)||g(I,{path:w+".include",expected:"(Array<FilterConfig> | undefined)",value:i.include}))&&i.include.map((M,se)=>(typeof M=="object"&&M!==null||g(I,{path:w+".include["+se+"]",expected:"FilterConfig",value:M}))&&ie(M,w+".include["+se+"]",I)||g(I,{path:w+".include["+se+"]",expected:"FilterConfig",value:M})).every(M=>M)||g(I,{path:w+".include",expected:"(Array<FilterConfig> | undefined)",value:i.include})].every(M=>M),ie=(i,w,I=!0)=>[i.comparator===void 0||i.comparator==="equal"||i.comparator==="match"||i.comparator==="in"||i.comparator==="greater_than"||i.comparator==="lower_than"||i.comparator==="is_null"||i.comparator==="is_numeric"||g(I,{path:w+".comparator",expected:'("equal" | "greater_than" | "in" | "is_null" | "is_numeric" | "lower_than" | "match" | undefined)',value:i.comparator}),!0,q.has(i.type)===!0||g(I,{path:w+".type",expected:'("area" | "attribute" | "device" | "disabled_by" | "domain" | "entity" | "entity_category" | "floor" | "hidden_by" | "integration" | "label" | "state")',value:i.type}),i.config===void 0||(typeof i.config=="object"&&i.config!==null&&Array.isArray(i.config)===!1||g(I,{path:w+".config",expected:"(TypeConfig | undefined)",value:i.config}))&&re(i.config,w+".config",I)||g(I,{path:w+".config",expected:"(TypeConfig | undefined)",value:i.config})].every(M=>M),re=(i,w,I=!0)=>[i.key===void 0||typeof i.key=="string"||g(I,{path:w+".key",expected:"(string | undefined)",value:i.key}),i.label===void 0||typeof i.label=="string"||g(I,{path:w+".label",expected:"(string | undefined)",value:i.label})].every(M=>M),Q=i=>typeof i=="object"&&i!==null&&D(i);let X,g;return i=>{if(Q(i)===!1){X=[],g=ut._validateReport(X),((I,M,se=!0)=>(typeof I=="object"&&I!==null||g(!0,{path:M+"",expected:"LogViewOptions",value:I}))&&H(I,M+"",!0)||g(!0,{path:M+"",expected:"LogViewOptions",value:I}))(i,"$input",!0);const w=X.length===0;return w?{success:w,data:i}:{success:w,errors:X,data:i}}return{success:!0,data:i}}})()(F);throw Error(d.success?"Something went wrong. Check config.":JSON.stringify(d.errors))}return F};class Qf extends HTMLTemplateElement{static async generate(F,d){const{config:N}=F,q={...N},{presets:D}=Vf(q);if(!D)throw Error("presets not defined!");const[$]=await Promise.all([d.callWS({type:"config/entity_registry/list"})]),J={type:"vertical-stack",cards:[],view_layout:{position:"sidebar"}},W=D.reduce((H,K)=>(H.cards.push({type:"button",name:K.title,icon:K.icon,tap_action:{action:"navigate",navigation_path:window.location.pathname+"#"+encodeURI(K.title)}}),H),J),U=D.reduce((H,K)=>{const te=$.filter(gt(K,d)),re={type:"vertical-stack",cards:[{type:"logbook",title:K.title,entities:te.map(Q=>Q.entity_id)}]};return H.set(encodeURI(K.title),re),H},new Map);return{type:"sidebar",cards:[{type:"custom:state-switch",entity:"hash",default:U.keys().next().value,states:Object.fromEntries(U.entries())},W]}}}customElements.define(`${Tn}log-view-strategy`,Qf);const ec={global:{minCardWidth:300,filter:{exclude:[{type:"disabled_by",comparator:"match",value:".*"},{type:"hidden_by",comparator:"match",value:".*"},{type:"label",config:{label:"hidden"},value:"hidden"}]},sort:[{type:"label",config:{label:"^sort_\\d+$"}},{type:"area"},{type:"integration"},{type:"entity"}]},gridMergeStrategy:"reset"};class rc extends HTMLTemplateElement{static async generate(F,d){const{config:N}=F,q=si(ec,N),{grids:D}=q,[$]=await Promise.all([d.callWS({type:"config/entity_registry/list"})]);return{panel:!0,cards:[{type:"vertical-stack",cards:D.reduce((W,U)=>{const H=$.filter(gt(U,d)).sort(Dt(U,d));return W.push(...Bn(U,H)),W},new Array)}]}}}customElements.define(`${Tn}grid-view-strategy`,rc)});
